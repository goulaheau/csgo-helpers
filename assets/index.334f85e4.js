const Yt=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}};Yt();const k=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof global!="undefined")return global;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;try{return new Function("return this")()}catch{return{}}}();k.trustedTypes===void 0&&(k.trustedTypes={createPolicy:(s,t)=>t});const Nt={configurable:!1,enumerable:!1,writable:!1};k.FAST===void 0&&Reflect.defineProperty(k,"FAST",Object.assign({value:Object.create(null)},Nt));const $=k.FAST;if($.getById===void 0){const s=Object.create(null);Reflect.defineProperty($,"getById",Object.assign({value(t,e){let i=s[t];return i===void 0&&(i=e?s[t]=e():null),i}},Nt))}const $t=Object.freeze([]),H=k.FAST.getById(1,()=>{const s=[],t=[];function e(){if(t.length)throw t.shift()}function i(o){try{o.call()}catch(l){t.push(l),setTimeout(e,0)}}function n(){let l=0;for(;l<s.length;)if(i(s[l]),l++,l>1024){for(let a=0,h=s.length-l;a<h;a++)s[a]=s[a+l];s.length-=l,l=0}s.length=0}function r(o){s.length<1&&k.requestAnimationFrame(n),s.push(o)}return Object.freeze({enqueue:r,process:n})}),Rt=k.trustedTypes.createPolicy("fast-html",{createHTML:s=>s});let q=Rt;const A=`fast-${Math.random().toString(36).substring(2,8)}`,Pt=`${A}{`,st=`}${A}`,m=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(s){if(q!==Rt)throw new Error("The HTML policy can only be set once.");q=s},createHTML(s){return q.createHTML(s)},isMarker(s){return s&&s.nodeType===8&&s.data.startsWith(A)},extractDirectiveIndexFromMarker(s){return parseInt(s.data.replace(`${A}:`,""))},createInterpolationPlaceholder(s){return`${Pt}${s}${st}`},createCustomAttributePlaceholder(s,t){return`${s}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder(s){return`<!--${A}:${s}-->`},queueUpdate:H.enqueue,processUpdates:H.process,nextUpdate(){return new Promise(H.enqueue)},setAttribute(s,t,e){e==null?s.removeAttribute(t):s.setAttribute(t,e)},setBooleanAttribute(s,t,e){e?s.setAttribute(t,""):s.removeAttribute(t)},removeChildNodes(s){for(let t=s.firstChild;t!==null;t=s.firstChild)s.removeChild(t)},createTemplateWalker(s){return document.createTreeWalker(s,133,null,!1)}});class F{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return this.spillover===void 0?this.sub1===t||this.sub2===t:this.spillover.indexOf(t)!==-1}subscribe(t){const e=this.spillover;if(e===void 0){if(this.has(t))return;if(this.sub1===void 0){this.sub1=t;return}if(this.sub2===void 0){this.sub2=t;return}this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else e.indexOf(t)===-1&&e.push(t)}unsubscribe(t){const e=this.spillover;if(e===void 0)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0);else{const i=e.indexOf(t);i!==-1&&e.splice(i,1)}}notify(t){const e=this.spillover,i=this.source;if(e===void 0){const n=this.sub1,r=this.sub2;n!==void 0&&n.handleChange(i,t),r!==void 0&&r.handleChange(i,t)}else for(let n=0,r=e.length;n<r;++n)e[n].handleChange(i,t)}}class Et{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var e;const i=this.subscribers[t];i!==void 0&&i.notify(t),(e=this.sourceSubscribers)===null||e===void 0||e.notify(t)}subscribe(t,e){var i;if(e){let n=this.subscribers[e];n===void 0&&(this.subscribers[e]=n=new F(this.source)),n.subscribe(t)}else this.sourceSubscribers=(i=this.sourceSubscribers)!==null&&i!==void 0?i:new F(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,e){var i;if(e){const n=this.subscribers[e];n!==void 0&&n.unsubscribe(t)}else(i=this.sourceSubscribers)===null||i===void 0||i.unsubscribe(t)}}const v=$.getById(2,()=>{const s=/(:|&&|\|\||if)/,t=new WeakMap,e=new WeakMap,i=m.queueUpdate;let n,r=u=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function o(u){let c=u.$fastController||t.get(u);return c===void 0&&(Array.isArray(u)?c=r(u):t.set(u,c=new Et(u))),c}function l(u){let c=e.get(u);if(c===void 0){let d=Reflect.getPrototypeOf(u);for(;c===void 0&&d!==null;)c=e.get(d),d=Reflect.getPrototypeOf(d);c===void 0?c=[]:c=c.slice(0),e.set(u,c)}return c}class a{constructor(c){this.name=c,this.field=`_${c}`,this.callback=`${c}Changed`}getValue(c){return n!==void 0&&n.watch(c,this.name),c[this.field]}setValue(c,d){const p=this.field,g=c[p];if(g!==d){c[p]=d;const b=c[this.callback];typeof b=="function"&&b.call(c,g,d),o(c).notify(this.name)}}}class h extends F{constructor(c,d,p=!1){super(c,d),this.binding=c,this.isVolatileBinding=p,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(c,d){this.needsRefresh&&this.last!==null&&this.disconnect();const p=n;n=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const g=this.binding(c,d);return n=p,g}disconnect(){if(this.last!==null){let c=this.first;for(;c!==void 0;)c.notifier.unsubscribe(this,c.propertyName),c=c.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(c,d){const p=this.last,g=o(c),b=p===null?this.first:{};if(b.propertySource=c,b.propertyName=d,b.notifier=g,g.subscribe(this,d),p!==null){if(!this.needsRefresh){let x;n=void 0,x=p.propertySource[p.propertyName],n=this,c===x&&(this.needsRefresh=!0)}p.next=b}this.last=b}handleChange(){this.needsQueue&&(this.needsQueue=!1,i(this))}call(){this.last!==null&&(this.needsQueue=!0,this.notify(this))}records(){let c=this.first;return{next:()=>{const d=c;return d===void 0?{value:void 0,done:!0}:(c=c.next,{value:d,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(u){r=u},getNotifier:o,track(u,c){n!==void 0&&n.watch(u,c)},trackVolatile(){n!==void 0&&(n.needsRefresh=!0)},notify(u,c){o(u).notify(c)},defineProperty(u,c){typeof c=="string"&&(c=new a(c)),l(u).push(c),Reflect.defineProperty(u,c.name,{enumerable:!0,get:function(){return c.getValue(this)},set:function(d){c.setValue(this,d)}})},getAccessors:l,binding(u,c,d=this.isVolatileBinding(u)){return new h(u,c,d)},isVolatileBinding(u){return s.test(u.toString())}})});function It(s,t){v.defineProperty(s,t)}const dt=$.getById(3,()=>{let s=null;return{get(){return s},set(t){s=t}}});class R{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return dt.get()}get isEven(){return this.index%2===0}get isOdd(){return this.index%2!==0}get isFirst(){return this.index===0}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){dt.set(t)}}v.defineProperty(R.prototype,"index");v.defineProperty(R.prototype,"length");const O=Object.seal(new R);class I{constructor(){this.targetIndex=0}}class _t extends I{constructor(){super(...arguments),this.createPlaceholder=m.createInterpolationPlaceholder}}class Zt extends I{constructor(t,e,i){super(),this.name=t,this.behavior=e,this.options=i}createPlaceholder(t){return m.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function te(s,t){this.source=s,this.context=t,this.bindingObserver===null&&(this.bindingObserver=v.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(s,t))}function ee(s,t){this.source=s,this.context=t,this.target.addEventListener(this.targetName,this)}function ie(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function se(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const s=this.target.$fastView;s!==void 0&&s.isComposed&&(s.unbind(),s.needsBindOnly=!0)}function ne(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function re(s){m.setAttribute(this.target,this.targetName,s)}function oe(s){m.setBooleanAttribute(this.target,this.targetName,s)}function le(s){if(s==null&&(s=""),s.create){this.target.textContent="";let t=this.target.$fastView;t===void 0?t=s.create():this.target.$fastTemplate!==s&&(t.isComposed&&(t.remove(),t.unbind()),t=s.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=s)}else{const t=this.target.$fastView;t!==void 0&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=s}}function ae(s){this.target[this.targetName]=s}function ce(s){const t=this.classVersions||Object.create(null),e=this.target;let i=this.version||0;if(s!=null&&s.length){const n=s.split(/\s+/);for(let r=0,o=n.length;r<o;++r){const l=n[r];l!==""&&(t[l]=i,e.classList.add(l))}}if(this.classVersions=t,this.version=i+1,i!==0){i-=1;for(const n in t)t[n]===i&&e.classList.remove(n)}}class nt extends _t{constructor(t){super(),this.binding=t,this.bind=te,this.unbind=ie,this.updateTarget=re,this.isBindingVolatile=v.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,t!==void 0)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=ae,this.cleanedTargetName==="innerHTML"){const e=this.binding;this.binding=(i,n)=>m.createHTML(e(i,n))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=oe;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=ee,this.unbind=ne;break;default:this.cleanedTargetName=t,t==="class"&&(this.updateTarget=ce);break}}targetAtContent(){this.updateTarget=le,this.unbind=se}createBehavior(t){return new he(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class he{constructor(t,e,i,n,r,o,l){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=i,this.bind=n,this.unbind=r,this.updateTarget=o,this.targetName=l}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){R.setEvent(t);const e=this.binding(this.source,this.context);R.setEvent(null),e!==!0&&t.preventDefault()}}let U=null;class rt{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){U=this}static borrow(t){const e=U||new rt;return e.directives=t,e.reset(),U=null,e}}function ue(s){if(s.length===1)return s[0];let t;const e=s.length,i=s.map(o=>typeof o=="string"?()=>o:(t=o.targetName||t,o.binding)),n=(o,l)=>{let a="";for(let h=0;h<e;++h)a+=i[h](o,l);return a},r=new nt(n);return r.targetName=t,r}const de=st.length;function jt(s,t){const e=t.split(Pt);if(e.length===1)return null;const i=[];for(let n=0,r=e.length;n<r;++n){const o=e[n],l=o.indexOf(st);let a;if(l===-1)a=o;else{const h=parseInt(o.substring(0,l));i.push(s.directives[h]),a=o.substring(l+de)}a!==""&&i.push(a)}return i}function ft(s,t,e=!1){const i=t.attributes;for(let n=0,r=i.length;n<r;++n){const o=i[n],l=o.value,a=jt(s,l);let h=null;a===null?e&&(h=new nt(()=>l),h.targetName=o.name):h=ue(a),h!==null&&(t.removeAttributeNode(o),n--,r--,s.addFactory(h))}}function fe(s,t,e){const i=jt(s,t.textContent);if(i!==null){let n=t;for(let r=0,o=i.length;r<o;++r){const l=i[r],a=r===0?t:n.parentNode.insertBefore(document.createTextNode(""),n.nextSibling);typeof l=="string"?a.textContent=l:(a.textContent=" ",s.captureContentBinding(l)),n=a,s.targetIndex++,a!==t&&e.nextNode()}s.targetIndex--}}function pe(s,t){const e=s.content;document.adoptNode(e);const i=rt.borrow(t);ft(i,s,!0);const n=i.behaviorFactories;i.reset();const r=m.createTemplateWalker(e);let o;for(;o=r.nextNode();)switch(i.targetIndex++,o.nodeType){case 1:ft(i,o);break;case 3:fe(i,o,r);break;case 8:m.isMarker(o)&&i.addFactory(t[m.extractDirectiveIndexFromMarker(o)])}let l=0;(m.isMarker(e.firstChild)||e.childNodes.length===1&&t.length)&&(e.insertBefore(document.createComment(""),e.firstChild),l=-1);const a=i.behaviorFactories;return i.release(),{fragment:e,viewBehaviorFactories:a,hostBehaviorFactories:n,targetOffset:l}}const Q=document.createRange();class ot{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const e=t.parentNode,i=this.lastChild;let n=this.firstChild,r;for(;n!==i;)r=n.nextSibling,e.insertBefore(n,t),n=r;e.insertBefore(i,t)}}remove(){const t=this.fragment,e=this.lastChild;let i=this.firstChild,n;for(;i!==e;)n=i.nextSibling,t.appendChild(i),i=n;t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild;let i=this.firstChild,n;for(;i!==e;)n=i.nextSibling,t.removeChild(i),i=n;t.removeChild(e);const r=this.behaviors,o=this.source;for(let l=0,a=r.length;l<a;++l)r[l].unbind(o)}bind(t,e){const i=this.behaviors;if(this.source!==t)if(this.source!==null){const n=this.source;this.source=t,this.context=e;for(let r=0,o=i.length;r<o;++r){const l=i[r];l.unbind(n),l.bind(t,e)}}else{this.source=t,this.context=e;for(let n=0,r=i.length;n<r;++n)i[n].bind(t,e)}}unbind(){if(this.source===null)return;const t=this.behaviors,e=this.source;for(let i=0,n=t.length;i<n;++i)t[i].unbind(e);this.source=null}static disposeContiguousBatch(t){if(t.length!==0){Q.setStartBefore(t[0].firstChild),Q.setEndAfter(t[t.length-1].lastChild),Q.deleteContents();for(let e=0,i=t.length;e<i;++e){const n=t[e],r=n.behaviors,o=n.source;for(let l=0,a=r.length;l<a;++l)r[l].unbind(o)}}}}class J{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(this.fragment===null){let h;const u=this.html;if(typeof u=="string"){h=document.createElement("template"),h.innerHTML=m.createHTML(u);const d=h.content.firstElementChild;d!==null&&d.tagName==="TEMPLATE"&&(h=d)}else h=u;const c=pe(h,this.directives);this.fragment=c.fragment,this.viewBehaviorFactories=c.viewBehaviorFactories,this.hostBehaviorFactories=c.hostBehaviorFactories,this.targetOffset=c.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),i=this.viewBehaviorFactories,n=new Array(this.behaviorCount),r=m.createTemplateWalker(e);let o=0,l=this.targetOffset,a=r.nextNode();for(let h=i.length;o<h;++o){const u=i[o],c=u.targetIndex;for(;a!==null;)if(l===c){n[o]=u.createBehavior(a);break}else a=r.nextNode(),l++}if(this.hasHostBehaviors){const h=this.hostBehaviorFactories;for(let u=0,c=h.length;u<c;++u,++o)n[o]=h[u].createBehavior(t)}return new ot(e,n)}render(t,e,i){typeof e=="string"&&(e=document.getElementById(e)),i===void 0&&(i=e);const n=this.create(i);return n.bind(t,O),n.appendTo(e),n}}const ge=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function T(s,...t){const e=[];let i="";for(let n=0,r=s.length-1;n<r;++n){const o=s[n];let l=t[n];if(i+=o,l instanceof J){const a=l;l=()=>a}if(typeof l=="function"&&(l=new nt(l)),l instanceof _t){const a=ge.exec(o);a!==null&&(l.targetName=a[2])}l instanceof I?(i+=l.createPlaceholder(e.length),e.push(l)):i+=l}return i+=s[s.length-1],new J(i,e)}class y{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=this.behaviors===null?t:this.behaviors.concat(t),this}}y.create=(()=>{if(m.supportsAdoptedStyleSheets){const s=new Map;return t=>new me(t,s)}return s=>new ye(s)})();function lt(s){return s.map(t=>t instanceof y?lt(t.styles):[t]).reduce((t,e)=>t.concat(e),[])}function Ft(s){return s.map(t=>t instanceof y?t.behaviors:null).reduce((t,e)=>e===null?t:(t===null&&(t=[]),t.concat(e)),null)}class me extends y{constructor(t,e){super(),this.styles=t,this.styleSheetCache=e,this._styleSheets=void 0,this.behaviors=Ft(t)}get styleSheets(){if(this._styleSheets===void 0){const t=this.styles,e=this.styleSheetCache;this._styleSheets=lt(t).map(i=>{if(i instanceof CSSStyleSheet)return i;let n=e.get(i);return n===void 0&&(n=new CSSStyleSheet,n.replaceSync(i),e.set(i,n)),n})}return this._styleSheets}addStylesTo(t){t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(t)}removeStylesFrom(t){const e=this.styleSheets;t.adoptedStyleSheets=t.adoptedStyleSheets.filter(i=>e.indexOf(i)===-1),super.removeStylesFrom(t)}}let ve=0;function be(){return`fast-style-class-${++ve}`}class ye extends y{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=Ft(t),this.styleSheets=lt(t),this.styleClass=be()}addStylesTo(t){const e=this.styleSheets,i=this.styleClass;t=this.normalizeTarget(t);for(let n=0;n<e.length;n++){const r=document.createElement("style");r.innerHTML=e[n],r.className=i,t.append(r)}super.addStylesTo(t)}removeStylesFrom(t){t=this.normalizeTarget(t);const e=t.querySelectorAll(`.${this.styleClass}`);for(let i=0,n=e.length;i<n;++i)t.removeChild(e[i]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const Ce={toView(s){return s?"true":"false"},fromView(s){return!(s==null||s==="false"||s===!1||s===0)}};class V{constructor(t,e,i=e.toLowerCase(),n="reflect",r){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=i,this.mode=n,this.converter=r,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,n==="boolean"&&r===void 0&&(this.converter=Ce)}setValue(t,e){const i=t[this.fieldName],n=this.converter;n!==void 0&&(e=n.fromView(e)),i!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](i,e),t.$fastController.notify(this.name))}getValue(t){return v.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,i=this.guards;i.has(t)||e==="fromView"||m.queueUpdate(()=>{i.add(t);const n=t[this.fieldName];switch(e){case"reflect":const r=this.converter;m.setAttribute(t,this.attribute,r!==void 0?r.toView(n):n);break;case"boolean":m.setBooleanAttribute(t,this.attribute,n);break}i.delete(t)})}static collect(t,...e){const i=[];e.push(t.attributes);for(let n=0,r=e.length;n<r;++n){const o=e[n];if(o!==void 0)for(let l=0,a=o.length;l<a;++l){const h=o[l];typeof h=="string"?i.push(new V(t,h)):i.push(new V(t,h.property,h.attribute,h.mode,h.converter))}}return i}}function we(s,t){let e;function i(n,r){arguments.length>1&&(e.property=r),(n.constructor.attributes||(n.constructor.attributes=[])).push(e)}if(arguments.length>1){e={},i(s,t);return}return e=s===void 0?{}:s,i}const pt={mode:"open"},gt={},G=$.getById(4,()=>{const s=new Map;return Object.freeze({register(t){return s.has(t.type)?!1:(s.set(t.type,t),!0)},getByType(t){return s.get(t)}})});class B{constructor(t,e=t.definition){typeof e=="string"&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template;const i=V.collect(t,e.attributes),n=new Array(i.length),r={},o={};for(let l=0,a=i.length;l<a;++l){const h=i[l];n[l]=h.attribute,r[h.name]=h,o[h.attribute]=h}this.attributes=i,this.observedAttributes=n,this.propertyLookup=r,this.attributeLookup=o,this.shadowOptions=e.shadowOptions===void 0?pt:e.shadowOptions===null?void 0:Object.assign(Object.assign({},pt),e.shadowOptions),this.elementOptions=e.elementOptions===void 0?gt:Object.assign(Object.assign({},gt),e.elementOptions),this.styles=e.styles===void 0?void 0:Array.isArray(e.styles)?y.create(e.styles):e.styles instanceof y?e.styles:y.create([e.styles])}get isDefined(){return!!G.getByType(this.type)}define(t=customElements){const e=this.type;if(G.register(this)){const i=this.attributes,n=e.prototype;for(let r=0,o=i.length;r<o;++r)v.defineProperty(n,i[r]);Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}}B.forType=G.getByType;const Vt=new WeakMap,Se={bubbles:!0,composed:!0,cancelable:!0};function W(s){return s.shadowRoot||Vt.get(s)||null}class at extends Et{constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=t,this.definition=e;const i=e.shadowOptions;if(i!==void 0){const r=t.attachShadow(i);i.mode==="closed"&&Vt.set(t,r)}const n=v.getAccessors(t);if(n.length>0){const r=this.boundObservables=Object.create(null);for(let o=0,l=n.length;o<l;++o){const a=n[o].name,h=t[a];h!==void 0&&(delete t[a],r[a]=h)}}}get isConnected(){return v.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,v.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(this._styles!==null&&this.removeStyles(this._styles),this._styles=t,!this.needsInitialization&&t!==null&&this.addStyles(t))}addStyles(t){const e=W(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.append(t);else if(!t.isAttachedTo(e)){const i=t.behaviors;t.addStylesTo(e),i!==null&&this.addBehaviors(i)}}removeStyles(t){const e=W(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.removeChild(t);else if(t.isAttachedTo(e)){const i=t.behaviors;t.removeStylesFrom(e),i!==null&&this.removeBehaviors(i)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),i=t.length,n=[];for(let r=0;r<i;++r){const o=t[r];e.has(o)?e.set(o,e.get(o)+1):(e.set(o,1),n.push(o))}if(this._isConnected){const r=this.element;for(let o=0;o<n.length;++o)n[o].bind(r,O)}}removeBehaviors(t,e=!1){const i=this.behaviors;if(i===null)return;const n=t.length,r=[];for(let o=0;o<n;++o){const l=t[o];if(i.has(l)){const a=i.get(l)-1;a===0||e?i.delete(l)&&r.push(l):i.set(l,a)}}if(this._isConnected){const o=this.element;for(let l=0;l<r.length;++l)r[l].unbind(o)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():this.view!==null&&this.view.bind(t,O);const e=this.behaviors;if(e!==null)for(const[i]of e)i.bind(t,O);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;t!==null&&t.unbind();const e=this.behaviors;if(e!==null){const i=this.element;for(const[n]of e)n.unbind(i)}}onAttributeChangedCallback(t,e,i){const n=this.definition.attributeLookup[t];n!==void 0&&n.onAttributeChangedCallback(this.element,i)}emit(t,e,i){return this._isConnected?this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},Se),i))):!1}finishInitialization(){const t=this.element,e=this.boundObservables;if(e!==null){const n=Object.keys(e);for(let r=0,o=n.length;r<o;++r){const l=n[r];t[l]=e[l]}this.boundObservables=null}const i=this.definition;this._template===null&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():i.template&&(this._template=i.template||null)),this._template!==null&&this.renderTemplate(this._template),this._styles===null&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():i.styles&&(this._styles=i.styles||null)),this._styles!==null&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,i=W(e)||e;this.view!==null?(this.view.dispose(),this.view=null):this.needsInitialization||m.removeChildNodes(i),t&&(this.view=t.render(e,i,e))}static forCustomElement(t){const e=t.$fastController;if(e!==void 0)return e;const i=B.forType(t.constructor);if(i===void 0)throw new Error("Missing FASTElement definition.");return t.$fastController=new at(t,i)}}function mt(s){return class extends s{constructor(){super(),at.forCustomElement(this)}$emit(t,e,i){return this.$fastController.emit(t,e,i)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,e,i){this.$fastController.onAttributeChangedCallback(t,e,i)}}}const _=Object.assign(mt(HTMLElement),{from(s){return mt(s)},define(s,t){return new B(s,t).define().type}});function D(s){return function(t){new B(t,s).define()}}class xe{createCSS(){return""}createBehavior(){}}function Te(s,t){const e=[];let i="";const n=[];for(let r=0,o=s.length-1;r<o;++r){i+=s[r];let l=t[r];if(l instanceof xe){const a=l.createBehavior();l=l.createCSS(),a&&n.push(a)}l instanceof y||l instanceof CSSStyleSheet?(i.trim()!==""&&(e.push(i),i=""),e.push(l)):i+=l}return i+=s[s.length-1],i.trim()!==""&&e.push(i),{styles:e,behaviors:n}}function Lt(s,...t){const{styles:e,behaviors:i}=Te(s,t),n=y.create(e);return i.length&&n.withBehaviors(...i),n}function S(s,t,e){return{index:s,removed:t,addedCount:e}}const Dt=0,zt=1,X=2,Y=3;function ke(s,t,e,i,n,r){const o=r-n+1,l=e-t+1,a=new Array(o);let h,u;for(let c=0;c<o;++c)a[c]=new Array(l),a[c][0]=c;for(let c=0;c<l;++c)a[0][c]=c;for(let c=1;c<o;++c)for(let d=1;d<l;++d)s[t+d-1]===i[n+c-1]?a[c][d]=a[c-1][d-1]:(h=a[c-1][d]+1,u=a[c][d-1]+1,a[c][d]=h<u?h:u);return a}function Be(s){let t=s.length-1,e=s[0].length-1,i=s[t][e];const n=[];for(;t>0||e>0;){if(t===0){n.push(X),e--;continue}if(e===0){n.push(Y),t--;continue}const r=s[t-1][e-1],o=s[t-1][e],l=s[t][e-1];let a;o<l?a=o<r?o:r:a=l<r?l:r,a===r?(r===i?n.push(Dt):(n.push(zt),i=r),t--,e--):a===o?(n.push(Y),t--,i=o):(n.push(X),e--,i=l)}return n.reverse(),n}function Ae(s,t,e){for(let i=0;i<e;++i)if(s[i]!==t[i])return i;return e}function Oe(s,t,e){let i=s.length,n=t.length,r=0;for(;r<e&&s[--i]===t[--n];)r++;return r}function Ne(s,t,e,i){return t<e||i<s?-1:t===e||i===s?0:s<e?t<i?t-e:i-e:i<t?i-s:t-s}function Mt(s,t,e,i,n,r){let o=0,l=0;const a=Math.min(e-t,r-n);if(t===0&&n===0&&(o=Ae(s,i,a)),e===s.length&&r===i.length&&(l=Oe(s,i,a-o)),t+=o,n+=o,e-=l,r-=l,e-t===0&&r-n===0)return $t;if(t===e){const g=S(t,[],0);for(;n<r;)g.removed.push(i[n++]);return[g]}else if(n===r)return[S(t,[],e-t)];const h=Be(ke(s,t,e,i,n,r)),u=[];let c,d=t,p=n;for(let g=0;g<h.length;++g)switch(h[g]){case Dt:c!==void 0&&(u.push(c),c=void 0),d++,p++;break;case zt:c===void 0&&(c=S(d,[],0)),c.addedCount++,d++,c.removed.push(i[p]),p++;break;case X:c===void 0&&(c=S(d,[],0)),c.addedCount++,d++;break;case Y:c===void 0&&(c=S(d,[],0)),c.removed.push(i[p]),p++;break}return c!==void 0&&u.push(c),u}const vt=Array.prototype.push;function $e(s,t,e,i){const n=S(t,e,i);let r=!1,o=0;for(let l=0;l<s.length;l++){const a=s[l];if(a.index+=o,r)continue;const h=Ne(n.index,n.index+n.removed.length,a.index,a.index+a.addedCount);if(h>=0){s.splice(l,1),l--,o-=a.addedCount-a.removed.length,n.addedCount+=a.addedCount-h;const u=n.removed.length+a.removed.length-h;if(!n.addedCount&&!u)r=!0;else{let c=a.removed;if(n.index<a.index){const d=n.removed.slice(0,a.index-n.index);vt.apply(d,c),c=d}if(n.index+n.removed.length>a.index+a.addedCount){const d=n.removed.slice(a.index+a.addedCount-n.index);vt.apply(c,d)}n.removed=c,a.index<n.index&&(n.index=a.index)}}else if(n.index<a.index){r=!0,s.splice(l,0,n),l++;const u=n.addedCount-n.removed.length;a.index+=u,o+=u}}r||s.push(n)}function Re(s){const t=[];for(let e=0,i=s.length;e<i;e++){const n=s[e];$e(t,n.index,n.removed,n.addedCount)}return t}function Pe(s,t){let e=[];const i=Re(t);for(let n=0,r=i.length;n<r;++n){const o=i[n];if(o.addedCount===1&&o.removed.length===1){o.removed[0]!==s[o.index]&&e.push(o);continue}e=e.concat(Mt(s,o.index,o.index+o.addedCount,o.removed,0,o.removed.length))}return e}let bt=!1;function K(s,t){let e=s.index;const i=t.length;return e>i?e=i-s.addedCount:e<0&&(e=i+s.removed.length+e-s.addedCount),e<0&&(e=0),s.index=e,s}class Ee extends F{constructor(t){super(t),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this.call=this.flush,Reflect.defineProperty(t,"$fastController",{value:this,enumerable:!1})}subscribe(t){this.flush(),super.subscribe(t)}addSplice(t){this.splices===void 0?this.splices=[t]:this.splices.push(t),this.needsQueue&&(this.needsQueue=!1,m.queueUpdate(this))}reset(t){this.oldCollection=t,this.needsQueue&&(this.needsQueue=!1,m.queueUpdate(this))}flush(){const t=this.splices,e=this.oldCollection;if(t===void 0&&e===void 0)return;this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0;const i=e===void 0?Pe(this.source,t):Mt(this.source,0,this.source.length,e,0,e.length);this.notify(i)}}function Ie(){if(bt)return;bt=!0,v.setArrayObserverFactory(a=>new Ee(a));const s=Array.prototype;if(s.$fastPatch)return;Reflect.defineProperty(s,"$fastPatch",{value:1,enumerable:!1});const t=s.pop,e=s.push,i=s.reverse,n=s.shift,r=s.sort,o=s.splice,l=s.unshift;s.pop=function(){const a=this.length>0,h=t.apply(this,arguments),u=this.$fastController;return u!==void 0&&a&&u.addSplice(S(this.length,[h],0)),h},s.push=function(){const a=e.apply(this,arguments),h=this.$fastController;return h!==void 0&&h.addSplice(K(S(this.length-arguments.length,[],arguments.length),this)),a},s.reverse=function(){let a;const h=this.$fastController;h!==void 0&&(h.flush(),a=this.slice());const u=i.apply(this,arguments);return h!==void 0&&h.reset(a),u},s.shift=function(){const a=this.length>0,h=n.apply(this,arguments),u=this.$fastController;return u!==void 0&&a&&u.addSplice(S(0,[h],0)),h},s.sort=function(){let a;const h=this.$fastController;h!==void 0&&(h.flush(),a=this.slice());const u=r.apply(this,arguments);return h!==void 0&&h.reset(a),u},s.splice=function(){const a=o.apply(this,arguments),h=this.$fastController;return h!==void 0&&h.addSplice(K(S(+arguments[0],a,arguments.length>2?arguments.length-2:0),this)),a},s.unshift=function(){const a=l.apply(this,arguments),h=this.$fastController;return h!==void 0&&h.addSplice(K(S(0,[],arguments.length),this)),a}}class _e{constructor(t,e){this.target=t,this.propertyName=e}bind(t){t[this.propertyName]=this.target}unbind(){}}function je(s){return new Zt("fast-ref",_e,s)}const Fe=Object.freeze({positioning:!1,recycle:!0});function Ve(s,t,e,i){s.bind(t[e],i)}function Le(s,t,e,i){const n=Object.create(i);n.index=e,n.length=t.length,s.bind(t[e],n)}class De{constructor(t,e,i,n,r,o){this.location=t,this.itemsBinding=e,this.templateBinding=n,this.options=o,this.source=null,this.views=[],this.items=null,this.itemsObserver=null,this.originalContext=void 0,this.childContext=void 0,this.bindView=Ve,this.itemsBindingObserver=v.binding(e,this,i),this.templateBindingObserver=v.binding(n,this,r),o.positioning&&(this.bindView=Le)}bind(t,e){this.source=t,this.originalContext=e,this.childContext=Object.create(e),this.childContext.parent=t,this.childContext.parentContext=this.originalContext,this.items=this.itemsBindingObserver.observe(t,this.originalContext),this.template=this.templateBindingObserver.observe(t,this.originalContext),this.observeItems(!0),this.refreshAllViews()}unbind(){this.source=null,this.items=null,this.itemsObserver!==null&&this.itemsObserver.unsubscribe(this),this.unbindAllViews(),this.itemsBindingObserver.disconnect(),this.templateBindingObserver.disconnect()}handleChange(t,e){t===this.itemsBinding?(this.items=this.itemsBindingObserver.observe(this.source,this.originalContext),this.observeItems(),this.refreshAllViews()):t===this.templateBinding?(this.template=this.templateBindingObserver.observe(this.source,this.originalContext),this.refreshAllViews(!0)):this.updateViews(e)}observeItems(t=!1){if(!this.items){this.items=$t;return}const e=this.itemsObserver,i=this.itemsObserver=v.getNotifier(this.items),n=e!==i;n&&e!==null&&e.unsubscribe(this),(n||t)&&i.subscribe(this)}updateViews(t){const e=this.childContext,i=this.views,n=[],r=this.bindView;let o=0;for(let h=0,u=t.length;h<u;++h){const c=t[h],d=c.removed;n.push(...i.splice(c.index+o,d.length)),o-=c.addedCount}const l=this.items,a=this.template;for(let h=0,u=t.length;h<u;++h){const c=t[h];let d=c.index;const p=d+c.addedCount;for(;d<p;++d){const g=i[d],b=g?g.firstChild:this.location,x=this.options.recycle&&n.length>0?n.shift():a.create();i.splice(d,0,x),r(x,l,d,e),x.insertBefore(b)}}for(let h=0,u=n.length;h<u;++h)n[h].dispose();if(this.options.positioning)for(let h=0,u=i.length;h<u;++h){const c=i[h].context;c.length=u,c.index=h}}refreshAllViews(t=!1){const e=this.items,i=this.childContext,n=this.template,r=this.location,o=this.bindView;let l=e.length,a=this.views,h=a.length;if((l===0||t)&&(ot.disposeContiguousBatch(a),h=0),h===0){this.views=a=new Array(l);for(let u=0;u<l;++u){const c=n.create();o(c,e,u,i),a[u]=c,c.insertBefore(r)}}else{let u=0;for(;u<l;++u)if(u<h){const d=a[u];o(d,e,u,i)}else{const d=n.create();o(d,e,u,i),a.push(d),d.insertBefore(r)}const c=a.splice(u,h-u);for(u=0,l=c.length;u<l;++u)c[u].dispose()}}unbindAllViews(){const t=this.views;for(let e=0,i=t.length;e<i;++e)t[e].unbind()}}class ze extends I{constructor(t,e,i){super(),this.itemsBinding=t,this.templateBinding=e,this.options=i,this.createPlaceholder=m.createBlockPlaceholder,Ie(),this.isItemsBindingVolatile=v.isVolatileBinding(t),this.isTemplateBindingVolatile=v.isVolatileBinding(e)}createBehavior(t){return new De(t,this.itemsBinding,this.isItemsBindingVolatile,this.templateBinding,this.isTemplateBindingVolatile,this.options)}}function yt(s,t,e=Fe){const i=typeof t=="function"?t:()=>t;return new ze(s,i,e)}function Me(s,t,e,i){var n=arguments.length,r=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,e):i,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(s,t,e,i);else for(var l=s.length-1;l>=0;l--)(o=s[l])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}function f(s,t,e,i){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(u){try{h(i.next(u))}catch(c){o(c)}}function a(u){try{h(i.throw(u))}catch(c){o(c)}}function h(u){u.done?r(u.value):n(u.value).then(l,a)}h((i=i.apply(s,t||[])).next())})}class L{constructor(t){this.path=t}}const Z=new Set,Ct=Object.freeze({register(s){Z.add(s)},unregister(s){Z.delete(s)}}),wt=/^([a-z][a-z0-9+\-.]*:)?\/\//i,w=Object.freeze({path:Object.freeze({get current(){return location.pathname+location.search},generateRoute(s,t,e={}){return f(this,void 0,void 0,function*(){let i="config"in s?s:P.find(s);for(;i!==null;){const n=yield i.config.generateRouteFromPath(t,e);if(n!==null)return n;i=i.parent}return null})},push(s,t=!0){if(s&&wt.test(s)){location.href=s;return}history.pushState({},document.title,s),t&&w.path.trigger(s)},replace(s,t=!0){if(s&&wt.test(s)){location.href=s;return}history.replaceState({},document.title,s),t&&w.path.trigger(s)},trigger(s){const t=new L(s);for(const e of Z)e.enqueue(t)}}),name:Object.freeze({generateRoute(s,t,e={}){return f(this,void 0,void 0,function*(){let i="config"in s?s:P.find(s);for(;i!==null;){const n=yield i.config.generateRouteFromName(t,e);if(n!==null)return n;i=i.parent}return null})},push(s,t,e={},i=!0){return f(this,void 0,void 0,function*(){const n=yield w.name.generateRoute(s,t,e);n!==null&&w.path.push(n,i)})},replace(s,t,e={},i=!0){return f(this,void 0,void 0,function*(){const n=yield w.name.generateRoute(s,t,e);n!==null&&w.path.replace(n,i)})},trigger(s,t,e={}){return f(this,void 0,void 0,function*(){const i=yield w.name.generateRoute(s,t,e);i!==null&&w.path.trigger(i)})}})});class He{constructor(){this.queue=[],this.promise=null,this.resolve=null}connect(){this.enqueue(new L(w.path.current)),window.addEventListener("popstate",this),Ct.register(this)}disconnect(){this.queue=[],this.promise=null,this.resolve=null,window.removeEventListener("popstate",this),Ct.unregister(this)}receive(){return this.promise!==null?this.promise:(this.promise=new Promise(t=>this.resolve=t),Promise.resolve().then(()=>this.tryDequeue()),this.promise)}enqueue(t){this.queue.push(t),this.tryDequeue()}tryDequeue(){if(this.resolve===null||this.queue.length===0)return;const t=this.queue[this.queue.length-1],e=this.resolve;this.queue.length=0,this.promise=null,this.resolve=null,e(t)}handleEvent(t){this.enqueue(new L(w.path.current))}}const tt=encodeURIComponent,St=s=>tt(s).replace("%24","$");function et(s,t,e){let i=[];if(t==null)return i;if(Array.isArray(t))for(let n=0,r=t.length;n<r;n++)if(e)i.push(`${St(s)}=${tt(t[n])}`);else{const o=s+"["+(typeof t[n]=="object"&&t[n]!==null?n:"")+"]";i=i.concat(et(o,t[n]))}else if(typeof t=="object"&&!e)for(const n in t)i=i.concat(et(s+"["+n+"]",t[n]));else i.push(`${St(s)}=${tt(t)}`);return i}function qe(s,t){return Array.isArray(s)?(s.push(t),s):s!==void 0?[s,t]:t}function Ue(s,t,e){let i=s;const n=t.length-1;for(let r=0;r<=n;r++){const o=t[r]===""?i.length:t[r];if(r<n){const l=!i[o]||typeof i[o]=="object"?i[o]:[i[o]];i=i[o]=l||(isNaN(t[r+1])?{}:[])}else i=i[o]=e}}const N=Object.freeze({get current(){return location.search},build(s,t){let e=[];const i=Object.keys(s||{}).sort();for(let n=0,r=i.length;n<r;n++){const o=i[n];e=e.concat(et(o,s[o],t))}return e.length===0?"":e.join("&")},separate(s){const t=s.indexOf("?");let e="";return t!==-1&&(e=s.substr(t+1,s.length),s=s.substr(0,t)),{path:s,queryString:e}},parse(s){const t={};if(!s||typeof s!="string")return t;let e=s;e.charAt(0)==="?"&&(e=e.substr(1));const i=e.replace(/\+/g," ").split("&");for(let n=0;n<i.length;n++){const r=i[n].split("="),o=decodeURIComponent(r[0]);if(!o)continue;let l=o.split("]["),a=l.length-1;if(/\[/.test(l[0])&&/\]$/.test(l[a])?(l[a]=l[a].replace(/\]$/,""),l=l.shift().split("[").concat(l),a=l.length-1):a=0,r.length>=2){const h=r[1]?decodeURIComponent(r[1]):"";a?Ue(t,l,h):t[o]=qe(t[o],h)}else t[o]=!0}return t}}),Qe=s=>s;class Ht{constructor(t,e,i){this.path=t,this.name=e,this.caseSensitive=i}}class qt{constructor(t,e,i,n){this.route=t,this.paramNames=e,this.paramTypes=i,this.settings=n}get path(){return this.route.path}}class Ut{constructor(t,e,i,n){this.endpoint=t,this.params=e,this.typedParams=i,this.queryParams=n,this.allParams=Object.assign(Object.assign({},e),n),this.allTypedParams=Object.assign(Object.assign({},i),n)}get settings(){return this.endpoint.settings}}class ct{constructor(t,e,i,n){var r;this.chars=t,this.states=e,this.skippedStates=i,this.result=n,this.head=e[e.length-1],this.endpoint=(r=this.head)===null||r===void 0?void 0:r.endpoint}advance(t){const{chars:e,states:i,skippedStates:n,result:r}=this;let o=null,l=0;const a=i[i.length-1];function h(u,c){if(u.isMatch(t)&&(++l===1?o=u:r.add(new ct(e.concat(t),i.concat(u),c===null?n:n.concat(c),r))),a.segment===null&&u.isOptional&&u.nextStates!==null){if(u.nextStates.length>1)throw new Error(`${u.nextStates.length} nextStates`);const d=u.nextStates[0];if(!d.isSeparator)throw new Error("Not a separator");if(d.nextStates!==null)for(const p of d.nextStates)h(p,u)}}if(a.isDynamic&&h(a,null),a.nextStates!==null)for(const u of a.nextStates)h(u,null);o!==null&&(i.push(this.head=o),e.push(t),o.endpoint!==null&&(this.endpoint=o.endpoint)),l===0&&r.remove(this)}finalize(){function t(e,i){const n=i.nextStates;if(n!==null){if(n.length===1&&n[0].segment===null)t(e,n[0]);else for(const r of n)if(r.isOptional&&r.endpoint!==null){if(e.push(r),r.nextStates!==null)for(const o of r.nextStates)t(e,o);break}}}t(this.skippedStates,this.head)}getParams(){const{states:t,chars:e,endpoint:i}=this,n={};for(const r of i.paramNames)n[r]=void 0;for(let r=0,o=t.length;r<o;++r){const l=t[r];if(l.isDynamic){const a=l.segment.name;n[a]===void 0?n[a]=e[r]:n[a]+=e[r]}}return n}compareTo(t){const e=this.states,i=t.states;for(let a=0,h=0,u=Math.max(e.length,i.length);a<u;++a){let c=e[a];if(c===void 0)return 1;let d=i[h];if(d===void 0)return-1;let p=c.segment,g=d.segment;if(p===null){if(g===null){++h;continue}if((c=e[++a])===void 0)return 1;p=c.segment}else if(g===null){if((d=i[++h])===void 0)return-1;g=d.segment}if(p.kind<g.kind)return 1;if(p.kind>g.kind)return-1;++h}const n=this.skippedStates,r=t.skippedStates,o=n.length,l=r.length;if(o<l)return 1;if(o>l)return-1;for(let a=0;a<o;++a){const h=n[a],u=r[a];if(h.length<u.length)return 1;if(h.length>u.length)return-1}return 0}}function We(s){return s.head.endpoint!==null}function Ke(s,t){return s.compareTo(t)}class Je{constructor(t){this.candidates=[],this.candidates=[new ct([""],[t],[],this)]}get isEmpty(){return this.candidates.length===0}getSolution(){const t=this.candidates.filter(We);if(t.length===0)return null;for(const e of t)e.finalize();return t.sort(Ke),t[0]}add(t){this.candidates.push(t)}remove(t){this.candidates.splice(this.candidates.indexOf(t),1)}advance(t){const e=this.candidates.slice();for(const i of e)i.advance(t)}}class Ge{constructor(){this.names=new Map,this.paths=new Map,this.rootState=new ht(null,null,"")}add(t,e){if(t instanceof Array)for(const i of t)this.$add(i,e);else this.$add(t,e)}$add(t,e){const i=t.path,n=new Ht(t.path,t.name||"",t.caseSensitive===!0),r=i===""?[""]:i.split("/").filter(Xe),o=[],l=[];let a=this.rootState;const h=[];for(const c of r)switch(a=a.append(null,"/"),c.charAt(0)){case"{":{const d=c.slice(1,-1).split(":").map(x=>x.trim());d.length===2?l.push(d[1]):l.push("string");const p=d[0].endsWith("?"),g=p?d[0].slice(0,-1):d[0];o.push(g);const b=new xt(g,p);h.push(b),a=b.appendTo(a);break}case"*":{const d=c.slice(1);o.push(d),l.push("string");const p=new Ze(d);h.push(p),a=p.appendTo(a);break}default:{const d=new Ye(c,n.caseSensitive);h.push(d),a=d.appendTo(a);break}}const u=new qt(n,o,l,e||null);a.setEndpoint(u),this.paths.set(i,h),t.name&&this.names.set(t.name,h)}recognize(t,e={}){return f(this,void 0,void 0,function*(){const i=N.separate(t),n=N.parse(i.queryString);t=decodeURI(i.path),t.startsWith("/")||(t=`/${t}`),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1));const r=new Je(this.rootState);for(let d=0,p=t.length;d<p;++d){const g=t.charAt(d);if(r.advance(g),r.isEmpty)return null}const o=r.getSolution();if(o===null)return null;const{endpoint:l}=o,a=l.paramNames,h=l.paramTypes,u=o.getParams(),c={};for(let d=0,p=a.length;d<p;++d){const g=a[d],b=e[h[d]]||Qe,x=u[g],Xt=yield b(x);c[g]=Xt}return new Ut(l,u,c,n)})}generateFromName(t,e){return this.generate(this.names.get(t),e)}generateFromPath(t,e){return this.generate(this.paths.get(t),e)}generate(t,e){if(!t)return null;const i=Object.assign({},e),n={};let r="";for(let l=0,a=t.length;l<a;l++){const h=t[l],u=h.generate(i,n);if(u==null){if(h instanceof xt&&!h.optional)throw new Error(`A value is required for route parameter '${h.name}'.`)}else r+="/",r+=u}r.charAt(0)!=="/"&&(r="/"+r);for(const l in n)delete i[l];const o=N.build(i);return r+=o?`?${o}`:"",r}}class ht{constructor(t,e,i){switch(this.prevState=t,this.segment=e,this.value=i,this.nextStates=null,this.endpoint=null,e==null?void 0:e.kind){case 2:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=e.optional;break;case 1:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=!1;break;case 3:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!1,this.isOptional=!1;break;case void 0:this.length=t===null?0:t.length,this.isSeparator=!0,this.isDynamic=!1,this.isOptional=!1;break}}append(t,e){let i,n=this.nextStates;return n===null?(i=void 0,n=this.nextStates=[]):t===null?i=n.find(r=>r.value===e):i=n.find(r=>{var o;return(o=r.segment)===null||o===void 0?void 0:o.equals(t)}),i===void 0&&n.push(i=new ht(this,t,e)),i}setEndpoint(t){if(this.endpoint!==null)throw new Error(`Cannot add ambiguous route. The pattern '${t.route.path}' clashes with '${this.endpoint.route.path}'`);this.endpoint=t,this.isOptional&&(this.prevState.setEndpoint(t),this.prevState.isSeparator&&this.prevState.prevState!==null&&this.prevState.prevState.setEndpoint(t))}isMatch(t){const e=this.segment;switch(e==null?void 0:e.kind){case 2:return!this.value.includes(t);case 1:return!0;case 3:case void 0:return this.value.includes(t)}}}function Xe(s){return s.length>0}class Ye{constructor(t,e){this.value=t,this.caseSensitive=e}get kind(){return 3}appendTo(t){const{value:e,value:{length:i}}=this;if(this.caseSensitive)for(let n=0;n<i;++n)t=t.append(this,e.charAt(n));else for(let n=0;n<i;++n){const r=e.charAt(n);t=t.append(this,r.toUpperCase()+r.toLowerCase())}return t}generate(){return this.value}equals(t){return t.kind===3&&t.caseSensitive===this.caseSensitive&&t.value===this.value}}class xt{constructor(t,e){this.name=t,this.optional=e}get kind(){return 2}appendTo(t){return t=t.append(this,"/"),t}generate(t,e){return e[this.name]=!0,t[this.name]}equals(t){return t.kind===2&&t.optional===this.optional&&t.name===this.name}}class Ze{constructor(t){this.name=t}get kind(){return 1}appendTo(t){return t=t.append(this,""),t}generate(t,e){return e[this.name]=!0,t[this.name]}equals(t){return t.kind===1&&t.name===this.name}}const Qt="fast-child-route";function Tt(s,t){return"command"in t?t.command:"redirect"in t?new Gt(t.redirect):z.fromDefinition(s,t)}const kt=s=>{if(s==null)return!1;switch(s.toLowerCase().trim()){case"true":case"yes":case"1":return!0;default:return!1}},ti={number:s=>s===void 0?NaN:parseFloat(s),float:s=>s===void 0?NaN:parseFloat(s),int:s=>s===void 0?NaN:parseInt(s),integer:s=>s===void 0?NaN:parseInt(s),Date:s=>s===void 0?new Date(Date.now()):new Date(s),boolean:kt,bool:kt};class ei{constructor(t){this.owner=t,this._recognizer=null,this.pathToCommand=new Map,this.fallbackCommand=null,this.fallbackSettings=null,this.converters={}}get recognizer(){return this._recognizer===null&&(this._recognizer=this.owner.createRouteRecognizer()),this._recognizer}ignore(t){typeof t=="string"&&(t={path:t}),this.pathToCommand.set(t.path,new ui),this.recognizer.add(t,t.settings)}map(...t){for(const e of t){if("children"in e){const n=this.owner.createTitleBuilder(),r=e.children.map(o=>{const l=Object.assign(Object.assign(Object.assign({},e),o),{path:`${e.path}/${o.path}`});if("title"in e||"title"in o){const a=e.title||"",h=o.title||"";l.title=n.joinTitles(a,h)}if("name"in o){const a=e.name?e.name+"/":"";l.name=a+o.name}return l.children===e.children&&delete l.children,l});this.map(...r);continue}let i;if("command"in e?i=e.command:"redirect"in e?i=new Gt(e.redirect):i=z.fromDefinition(this.owner,e),this.pathToCommand.set(e.path,i),this.recognizer.add(e,e.settings),"childRouters"in e&&e.childRouters){const n=Object.assign(Object.assign({},e),{path:e.path+`/*${Qt}`});this.pathToCommand.set(n.path,i),this.recognizer.add(n,n.settings)}}}fallback(t){const e=this.owner;typeof t=="function"?this.fallbackCommand={createContributor(i,n){return f(this,void 0,void 0,function*(){const r=yield t();return Tt(e,r).createContributor(i,n)})}}:this.fallbackCommand=Tt(e,t)}converter(t,e){let i;"convert"in e?i=e.convert.bind(e):e.prototype&&"convert"in e.prototype?i=n=>this.owner.construct(e).convert(n):i=e,this.converters[t]=i}recognize(t){return f(this,void 0,void 0,function*(){const e=yield this.recognizer.recognize(t,this.aggregateConverters());if(e!==null)return{route:e,command:this.pathToCommand.get(e.endpoint.path)};if(this.fallbackCommand!==null){const i=N.separate(t),n=N.parse(i.queryString);return{route:new Ut(new qt(new Ht("*","",!1),[],[],this.fallbackSettings),{},{},n),command:this.fallbackCommand}}return null})}generateFromName(t,e){return this.recognizer.generateFromName(t,e)}generateFromPath(t,e){return this.recognizer.generateFromPath(t,e)}aggregateConverters(){return this.owner.parent===null?Object.assign(Object.assign({},ti),this.converters):Object.assign(Object.assign({},this.owner.parent.routes.aggregateConverters()),this.converters)}}const C="$router";function ii(s){const t=s.parentElement;if(t)return t;{const e=s.getRootNode();if(e.host instanceof HTMLElement)return e.host}return null}function Wt(s){let t=s;for(;t=ii(t);)if(C in t)return t[C];return null}const P=Object.freeze({getOrCreateFor(s){const t=s[C];return t!==void 0?t:s[C]=new ni(s)},find(s){return s[C]||Wt(s)},from(s){class t extends s{constructor(){super(),P.getOrCreateFor(this)}get config(){return this[C].config}set config(n){this[C].config=n}}const e=t.prototype;if("connectedCallback"in e){const i=e.connectedCallback;e.connectedCallback=function(){i.call(this),this[C].connect()}}else e.connectedCallback=function(){this[C].connect()};if("disconnectedCallback"in e){const i=e.disconnectedCallback;e.disconnectedCallback=function(){i.call(this),this[C].disconnect()}}else e.disconnectedCallback=function(){this[C].disconnect()};return t}});function si(s){return s instanceof _}class ni{constructor(t){this.host=t,this.parentRouter=void 0,this.contributors=new Set,this.navigationQueue=null,this.linkHandler=null,this.newView=null,this.newRoute=null,this.childCommandContributor=null,this.childRoute=null,this.isConnected=!1,this.routerConfig=null,this.view=null,this.route=null,this.onNavigationMessage=e=>f(this,void 0,void 0,function*(){yield this.config.createNavigationProcess().run(this,e),this.navigationQueue.receive().then(this.onNavigationMessage)}),t[C]=this}get config(){return this.routerConfig}set config(t){this.routerConfig=t,this.tryConnect()}get parent(){if(this.parentRouter===void 0){if(!this.isConnected)return null;this.parentRouter=Wt(this.host)}return this.parentRouter||null}get level(){return this.parent===null?0:this.parent.level+1}shouldRender(t){var e;if(this.route&&this.route.endpoint.path===t.endpoint.path){const i=t==null?void 0:t.allParams,n=(e=this.route)===null||e===void 0?void 0:e.allParams;if(JSON.stringify(n)===JSON.stringify(i))return!1}return!0}beginRender(t,e){return f(this,void 0,void 0,function*(){return this.newRoute=t,this.newView=yield e.createView(),this.newView.bind(t.allTypedParams,ri.create(this)),this.newView.appendTo(this.host),yield e.transition.begin(this.host,this.view,this.newView),{commit:this.renderOperationCommit.bind(this,e.layout,e.transition),rollback:this.renderOperationRollback.bind(this,e.transition)}})}connect(){this.isConnected=!0,this.tryConnect()}disconnect(){this.parent===null?(this.navigationQueue!==null&&(this.navigationQueue.disconnect(),this.navigationQueue=null),this.linkHandler!==null&&(this.linkHandler.disconnect(),this.linkHandler=null)):this.parent.removeContributor(this),this.isConnected=!1,this.parentRouter=void 0}addContributor(t){this.contributors.add(t)}removeContributor(t){this.contributors.delete(t)}tryConnect(){this.config===null||!this.isConnected||(this.parent===null?(this.navigationQueue!==null&&this.navigationQueue.disconnect(),this.navigationQueue=this.config.createNavigationQueue(),this.navigationQueue.connect(),this.navigationQueue.receive().then(this.onNavigationMessage),this.linkHandler!==null&&this.linkHandler.disconnect(),this.linkHandler=this.config.createLinkHandler(),this.linkHandler.connect()):(this.config.parent=this.parent.config,this.parent.addContributor(this)))}renderOperationCommit(t,e){return f(this,void 0,void 0,function*(){yield t.beforeCommit(this.host),yield e.commit(this.host,this.view,this.newView),yield t.afterCommit(this.host),this.view!==null&&this.view.dispose(),this.route=this.newRoute,this.view=this.newView,this.newRoute=null,this.newView=null})}renderOperationRollback(t){return f(this,void 0,void 0,function*(){this.newView!==null&&(yield t.rollback(this.host,this.view,this.newView),this.newView.dispose(),this.newRoute=null,this.newView=null)})}navigate(t){return f(this,void 0,void 0,function*(){yield this.tunnel(t)})}leave(t){return f(this,void 0,void 0,function*(){if(yield this.tunnel(t),!t.canceled){const e=this.contributors;this.contributors=new Set,t.onCancel(()=>this.contributors=e)}})}construct(t){return f(this,void 0,void 0,function*(){if(this.parent!==null){const e=t.route.allParams[Qt]||"",i=yield this.config.recognizeRoute(e);if(i===null){this.config.createEventSink().onUnhandledNavigationMessage(this,new L(e)),t.cancel();return}this.childRoute=i.route,this.childCommandContributor=yield i.command.createContributor(this,i.route)}yield this.tunnel(t)})}enter(t){return f(this,void 0,void 0,function*(){yield this.tunnel(t)})}commit(t){return f(this,void 0,void 0,function*(){yield this.tunnel(t)})}tunnel(t){return f(this,void 0,void 0,function*(){const e=this.childRoute,i=this.childCommandContributor;if(e&&i&&(yield t.evaluateContributor(i,e,this)),t.canceled)return;const n=[...this.config.findContributors(t.name),...Array.from(this.contributors)];for(const r of n)if(yield t.evaluateContributor(r,void 0,this),t.canceled)return})}}const ri=Object.freeze({create(s){return Object.create(O,{router:{value:s}})}}),oi=Object.freeze({default:Object.freeze({begin(s,t,e){return f(this,void 0,void 0,function*(){})},rollback(s,t,e){return f(this,void 0,void 0,function*(){})},commit(s,t,e){return f(this,void 0,void 0,function*(){})}})});class ut{constructor(t=null,e=null,i=!0){this.template=t,this.runBeforeCommit=i,this.styles=e==null?null:Array.isArray(e)?y.create(e):e instanceof y?e:y.create([e])}beforeCommit(t){return f(this,void 0,void 0,function*(){this.runBeforeCommit&&this.apply(t)})}afterCommit(t){return f(this,void 0,void 0,function*(){this.runBeforeCommit||this.apply(t)})}apply(t){si(t)&&(t.$fastController.template!==this.template&&(t.$fastController.template=this.template),t.$fastController.styles!==this.styles&&(t.$fastController.styles=this.styles))}}const li=Object.freeze({default:new ut(T`
            <slot></slot>
        `)});function Kt(s,t){return t in s}const ai={lifecycle:!0,parameters:!0};class ci extends I{constructor(t){super(),this.options=t}createPlaceholder(t){return m.createCustomAttributePlaceholder("fast-navigation-contributor",t)}createBehavior(t){return new hi(t,this.options)}}class hi{constructor(t,e){this.contributor=t,this.options=e,this.router=null}bind(t,e){if(this.options.lifecycle&&(this.router=e.router||P.find(this.contributor),this.router.addContributor(this.contributor)),this.options.parameters){const i=this.contributor,n=t;for(const r in n)i[r]=n[r]}}unbind(t){this.router!==null&&this.router.removeContributor(this.contributor)}}function Jt(s){return new ci(Object.assign({},ai,s))}class ui{createContributor(){return f(this,void 0,void 0,function*(){return{navigate(t){return f(this,void 0,void 0,function*(){t.cancel()})}}})}}class Gt{constructor(t){this.redirect=t}createContributor(){return f(this,void 0,void 0,function*(){const t=this.redirect;return{navigate(e){return f(this,void 0,void 0,function*(){const i=e.router.config,n=(yield i.generateRouteFromName(t,e.route.allParams))||(yield i.generateRouteFromPath(t,e.route.allParams));if(n===null)throw new Error(`Invalid redirect. Name or path not found: ${t}`);e.cancel(()=>f(this,void 0,void 0,function*(){return w.path.replace(n)}))})}}})}}function j(s){return T`<${s} ${Jt()}></${s}>`}function Bt(s){const t=document.createDocumentFragment();t.appendChild(s);const e=new ot(t,[Jt().createBehavior(s)]);return{create(){return e}}}class di{constructor(t,e,i){this.router=t,this.route=e,this.command=i}construct(t){return f(this,void 0,void 0,function*(){if(!this.router.shouldRender(this.route)){t.cancel();return}this.operation=yield this.router.beginRender(this.route,this.command),t.onCancel(()=>this.operation.rollback())})}commit(t){return f(this,void 0,void 0,function*(){yield this.operation.commit(),this.command.title&&t.setTitle(this.command.title)})}}class z{constructor(t,e){this.owner=t,this.createView=e,this._layout=null,this._transition=null,this.title=""}get transition(){return this._transition||this.owner.defaultTransition}set transition(t){this._transition=t}get layout(){return this._layout||this.owner.defaultLayout}set layout(t){this._layout=t}createContributor(t,e){return f(this,void 0,void 0,function*(){return new di(t,e,this)})}static fromDefinition(t,e){let i;"template"in e?i=()=>f(this,void 0,void 0,function*(){let r=e.template;return typeof r=="function"&&(r=yield r()),r.create()}):i=()=>f(this,void 0,void 0,function*(){let r=e.element,o=null;if(e.factory)o=e.factory;else if(typeof r=="function"){let l=B.forType(r);if(l)o=j(l.name);else if(r=yield r(),typeof r=="string")o=j(r);else if(r instanceof HTMLElement)o=Bt(r);else if(l=B.forType(r),l)o=j(l.name);else throw new Error("Invalid value for element in route config.")}else r instanceof HTMLElement?e.factory=o=Bt(r):e.factory=o=j(r);return o.create()});const n=new z(t,i);return e.layout&&(e.layout instanceof J?n.layout=new ut(e.layout):n.layout=e.layout),e.transition&&(n.transition=e.transition),e.title&&(n.title=e.title),n}}class fi{constructor(){this.handler=t=>{const{shouldHandleEvent:e,href:i}=this.getEventInfo(t);e&&(t.preventDefault(),w.path.push(i))}}connect(){window.addEventListener("click",this.handler,!0)}disconnect(){window.removeEventListener("click",this.handler)}getEventInfo(t){const e={shouldHandleEvent:!1,href:null,anchor:null},i=this.findClosestAnchor(t);if(!i||!this.targetIsThisWindow(i)||i.hasAttribute("download")||i.hasAttribute("router-ignore")||i.hasAttribute("data-router-ignore")||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return e;const n=i.getAttribute("href");e.anchor=i,e.href=n;const r=t.which===1,o=n&&!(n.charAt(0)==="#"||/^[a-z]+:/i.test(n));return e.shouldHandleEvent=r&&!!o,e}findClosestAnchor(t){const e=t.composedPath();for(let i=0,n=e.length;i<n;++i){const r=e[i];if(r.tagName==="A")return r}return t.target}targetIsThisWindow(t){const e=t.getAttribute("target");return!e||e===window.name||e==="_self"}}class pi{constructor(t,e,i,n,r){this.name=t,this.commitActions=n,this.cancelActions=r,this.routes=[],this.routers=[],this.canceled=!1,this.titles=[],this.routes.push(e),this.routers.push(i)}get route(){return this.routes[this.routes.length-1]}get router(){return this.routers[this.routers.length-1]}cancel(t){this.canceled=!0,t&&this.cancelActions.push(t)}onCommit(t){this.commitActions.push(t)}onCancel(t){this.cancelActions.push(t)}setTitle(t){const e=this.router.level;for(;this.titles.length<e+1;)this.titles.push([]);this.titles[e].push(t)}evaluateContributor(t,e=this.route,i=this.router){return f(this,void 0,void 0,function*(){Kt(t,this.name)&&(this.routes.push(e),this.routers.push(i),yield t[this.name](this),this.routes.pop(),this.routers.pop())})}}class gi{constructor(){this.phases=["navigate","leave","construct","enter","commit"]}run(t,e){return f(this,void 0,void 0,function*(){const i=t.config.createEventSink(),n=yield t.config.recognizeRoute(e.path);if(n===null){i.onUnhandledNavigationMessage(t,e);return}const r=n.route,o=n.command;i.onNavigationBegin(t,r,o);const l=[],a=[];let h=l;const u=[yield o.createContributor(t,r),t,this];for(const c of this.phases){const d=new pi(c,r,t,l,a);if(i.onPhaseBegin(d),d.canceled)h=a;else for(const p of u)if(yield d.evaluateContributor(p),d.canceled){h=a;break}if(i.onPhaseEnd(d),d.canceled)break}yield Promise.all(h.map(c=>c())).then(()=>i.onNavigationEnd(t,r,o))})}commit(t){const e=t.router.config.createTitleBuilder();document.title=e.buildTitle(t.router.config.title,t.titles)}}class mi{constructor(t=" - ",e=":"){this.segmentSeparator=t,this.fragmentSeparator=e}joinTitles(t,e){return t===""?e:e===""?t:`${t}${this.segmentSeparator}${e}`}buildTitle(t,e){let i=t;for(const n of e){i&&(i=i+this.segmentSeparator);let r="";for(const o of n)r&&(r=r+this.fragmentSeparator),r=r+o;i=i+r}return i}}class vi{onUnhandledNavigationMessage(t,e){}onNavigationBegin(t,e,i){}onPhaseBegin(t){}onPhaseEnd(t){}onNavigationEnd(t,e,i){}}class bi{constructor(){this.isConfigured=!1,this.routes=new ei(this),this.contributors=[],this.defaultLayout=li.default,this.defaultTransition=oi.default,this.title="",this.parent=null}createNavigationQueue(){return this.construct(He)}createLinkHandler(){return this.construct(fi)}createNavigationProcess(){return new gi}createEventSink(){return this.construct(vi)}createTitleBuilder(){return this.construct(mi)}createRouteRecognizer(){return this.construct(Ge)}construct(t){return this.parent!==null?this.parent.construct(t):new t}recognizeRoute(t){return f(this,void 0,void 0,function*(){return yield this.ensureConfigured(),this.routes.recognize(t)})}generateRouteFromName(t,e){return f(this,void 0,void 0,function*(){return yield this.ensureConfigured(),this.routes.generateFromName(t,e)})}generateRouteFromPath(t,e){return f(this,void 0,void 0,function*(){return yield this.ensureConfigured(),this.routes.generateFromPath(t,e)})}findContributors(t){return this.contributors.filter(e=>Kt(e,t))}cached(t){let e=null;return()=>f(this,void 0,void 0,function*(){return e===null&&(e=new t),e})}ensureConfigured(){return f(this,void 0,void 0,function*(){this.isConfigured||(yield this.configure(),this.isConfigured=!0)})}}let At=class extends P.from(_){};At=Me([D("fast-router")],At);const yi=new ut(T`
		<slot></slot>
	`);var Ci="/csgo-helpers/assets/de_dust2.574d35c0.png",wi=Object.defineProperty,Si=Object.getOwnPropertyDescriptor,M=(s,t,e,i)=>{for(var n=i>1?void 0:i?Si(t,e):t,r=s.length-1,o;r>=0;r--)(o=s[r])&&(n=(i?o(t,e,n):o(n))||n);return i&&n&&wi(t,e,n),n};let E=class extends _{constructor(){super(...arguments),this.mapName="de_dust2",this.endIdSelected=null,this.videoUrl=null,this.ends=[{id:1,x:483,y:402},{id:2,x:250,y:227}],this.starts={1:[{id:1,endId:1,x:447,y:885,videoUrl:"https://giant.gfycat.com/CapitalClearAlligator.mp4"},{id:2,endId:1,x:544,y:648,videoUrl:"https://giant.gfycat.com/WellwornKindIaerismetalmark.mp4"},{id:3,endId:1,x:285,y:405,videoUrl:"https://giant.gfycat.com/IdioticAdventurousArabianoryx.mp4"}],2:[{id:4,endId:2,x:133,y:454,videoUrl:"https://giant.gfycat.com/RashDizzyHarborporpoise.mp4"}]},this.closeVideoWhenClickedOutside=s=>{s.path[0]!==this.videoElement&&(this.videoUrl=null,document.removeEventListener("click",this.closeVideoWhenClickedOutside))}}select(s){if(s===this.endIdSelected){this.endIdSelected=null;return}this.endIdSelected=s}showStuff(s,t){t.stopPropagation(),this.videoUrl=s,document.addEventListener("click",this.closeVideoWhenClickedOutside)}};M([we()],E.prototype,"mapName",2);M([It],E.prototype,"endIdSelected",2);M([It],E.prototype,"videoUrl",2);E=M([D({name:"app-map",styles:Lt`
		.map {
			width: 100vh;
			height: 100vh;
			position: relative;
			z-index: 0;
			background: url(${Ci}) 0 0% / contain no-repeat;
			margin: auto;
		}

		.end {
			position: absolute;
			border-radius: 50%;
			background: yellow;
			width: calc(20 / 1024 * 100%);
			height: calc(20 / 1024 * 100%);
			opacity: 0.75;
			cursor: pointer;
			border: none;
			padding: 0;
		}

		.end:hover,
		.end[aria-selected] {
			opacity: 1;
		}

		.start {
			display: none;
			position: absolute;
			border-radius: 50%;
			background: red;
			width: calc(20 / 1024 * 100%);
			height: calc(20 / 1024 * 100%);
			cursor: pointer;
			border: none;
			padding: 0;
		}

		.end:hover + .starts-container .start,
		.end:hover + .starts-container svg,
		.end[aria-selected] + .starts-container .start,
		.end[aria-selected] + .starts-container svg {
			display: block;
		}

		svg {
			pointer-events: none;
			display: none;
			position: absolute;
			z-index: -1;
			width: auto;
			max-height: 100vh;
			max-width: 100vw;
			aspect-ratio: 1;
		}

		svg line {
			stroke: green;
			stroke-width: calc(2 / 1024 * 100%);
		}

		.video-container {
			position: absolute;
			top: calc(112 / 1024 * 100%);
			height: calc(800 / 1024 * 100%);
			width: 100%;
			justify-content: center;
		}

		video {
			height: 100%;
			width: auto;
		}
	`,template:T`
		<div class="map">
			${yt(s=>s.ends,T`
					<button
						@click="${(s,t)=>t.parent.select(s.id)}"
						aria-selected="${(s,t)=>t.parent.endIdSelected===s.id?"true":null}"
						class="end"
						style="
							left: ${s=>`calc(${s.x} / 1024 * 100%)`};
							top: ${s=>`calc(${s.y} / 1024 * 100%)`};
						"
					></button>

					<div class="starts-container">
						${yt((s,t)=>t.parent.starts[s.id],T`
								<button
									class="start"
									@click="${(s,t)=>t.parentContext.parent.showStuff(s.videoUrl,t.event)}"
									style="
											left: ${s=>`calc(${s.x} / 1024 * 100%)`};
											top: ${s=>`calc(${s.y} / 1024 * 100%)`};
										"
								></button>

								<svg viewBox="0 0 1024 1024">
									<line
										x1="${(s,t)=>t.parent.x+10}"
										y1="${(s,t)=>t.parent.y+10}"
										x2="${s=>s.x+10}"
										y2="${s=>s.y+10}"
									/>
								</svg>
							`)}
					</div>
				`)}
		</div>

		<div
			class="video-container"
			style="display: ${s=>s.videoUrl?"flex":"none"}"
		>
			<video
				${je("videoElement")}
				src="${s=>s.videoUrl}"
				autoplay
				loop
				muted
				controls
			></video>
		</div>
	`})],E);var xi=Object.defineProperty,Ti=Object.getOwnPropertyDescriptor,ki=(s,t,e,i)=>{for(var n=i>1?void 0:i?Ti(t,e):t,r=s.length-1,o;r>=0;r--)(o=s[r])&&(n=(i?o(t,e,n):o(n))||n);return i&&n&&xi(t,e,n),n};let it=class extends _{};it=ki([D({name:"app-de-dust2-page",template:T`
		<app-map mapName="de_dust2"></app-map>
	`})],it);class Bi extends bi{configure(){this.title="CS:GO Helpers",this.defaultLayout=yi,this.routes.map({path:"csgo-helpers",children:[{path:"de_dust2",title:"de_dust2",element:it}]}),this.routes.fallback({redirect:"csgo-helpers/de_dust2"})}}var Ai=Object.defineProperty,Oi=Object.getOwnPropertyDescriptor,Ni=(s,t,e,i)=>{for(var n=i>1?void 0:i?Oi(t,e):t,r=s.length-1,o;r>=0;r--)(o=s[r])&&(n=(i?o(t,e,n):o(n))||n);return i&&n&&Ai(t,e,n),n};let Ot=class extends _{constructor(){super(...arguments),this.routerConfiguration=new Bi}};Ot=Ni([D({name:"app-root",styles:Lt`
		:host {
			contain: content;
		}

		:host,
		fast-router {
			display: block;
			width: 100%;
			height: 100%;
		}
	`,template:T`
		<fast-router :config=${s=>s.routerConfiguration}></fast-router>
	`})],Ot);
