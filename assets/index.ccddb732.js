const Ce=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}};Ce();function Ut(i){return new ReadableStream({start:i})}const k=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof global!="undefined")return global;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;try{return new Function("return this")()}catch{return{}}}();k.trustedTypes===void 0&&(k.trustedTypes={createPolicy:(i,t)=>t});const Ht={configurable:!1,enumerable:!1,writable:!1};k.FAST===void 0&&Reflect.defineProperty(k,"FAST",Object.assign({value:Object.create(null)},Ht));const I=k.FAST;if(I.getById===void 0){const i=Object.create(null);Reflect.defineProperty(I,"getById",Object.assign({value(t,e){let s=i[t];return s===void 0&&(s=e?i[t]=e():null),s}},Ht))}const qt=Object.freeze([]),et=k.FAST.getById(1,()=>{const i=[],t=[];function e(){if(t.length)throw t.shift()}function s(o){try{o.call()}catch(a){t.push(a),setTimeout(e,0)}}function n(){let a=0;for(;a<i.length;)if(s(i[a]),a++,a>1024){for(let l=0,u=i.length-a;l<u;l++)i[l]=i[l+a];i.length-=a,a=0}i.length=0}function r(o){i.length<1&&k.requestAnimationFrame(n),i.push(o)}return Object.freeze({enqueue:r,process:n})}),Qt=k.trustedTypes.createPolicy("fast-html",{createHTML:i=>i});let it=Qt;const L=`fast-${Math.random().toString(36).substring(2,8)}`,Wt=`${L}{`,vt=`}${L}`,m=Object.freeze({supportsAdoptedStyleSheets:Array.isArray(document.adoptedStyleSheets)&&"replace"in CSSStyleSheet.prototype,setHTMLPolicy(i){if(it!==Qt)throw new Error("The HTML policy can only be set once.");it=i},createHTML(i){return it.createHTML(i)},isMarker(i){return i&&i.nodeType===8&&i.data.startsWith(L)},extractDirectiveIndexFromMarker(i){return parseInt(i.data.replace(`${L}:`,""))},createInterpolationPlaceholder(i){return`${Wt}${i}${vt}`},createCustomAttributePlaceholder(i,t){return`${i}="${this.createInterpolationPlaceholder(t)}"`},createBlockPlaceholder(i){return`<!--${L}:${i}-->`},queueUpdate:et.enqueue,processUpdates:et.process,nextUpdate(){return new Promise(et.enqueue)},setAttribute(i,t,e){e==null?i.removeAttribute(t):i.setAttribute(t,e)},setBooleanAttribute(i,t,e){e?i.setAttribute(t,""):i.removeAttribute(t)},removeChildNodes(i){for(let t=i.firstChild;t!==null;t=i.firstChild)i.removeChild(t)},createTemplateWalker(i){return document.createTreeWalker(i,133,null,!1)}});class U{constructor(t,e){this.sub1=void 0,this.sub2=void 0,this.spillover=void 0,this.source=t,this.sub1=e}has(t){return this.spillover===void 0?this.sub1===t||this.sub2===t:this.spillover.indexOf(t)!==-1}subscribe(t){const e=this.spillover;if(e===void 0){if(this.has(t))return;if(this.sub1===void 0){this.sub1=t;return}if(this.sub2===void 0){this.sub2=t;return}this.spillover=[this.sub1,this.sub2,t],this.sub1=void 0,this.sub2=void 0}else e.indexOf(t)===-1&&e.push(t)}unsubscribe(t){const e=this.spillover;if(e===void 0)this.sub1===t?this.sub1=void 0:this.sub2===t&&(this.sub2=void 0);else{const s=e.indexOf(t);s!==-1&&e.splice(s,1)}}notify(t){const e=this.spillover,s=this.source;if(e===void 0){const n=this.sub1,r=this.sub2;n!==void 0&&n.handleChange(s,t),r!==void 0&&r.handleChange(s,t)}else for(let n=0,r=e.length;n<r;++n)e[n].handleChange(s,t)}}class Kt{constructor(t){this.subscribers={},this.sourceSubscribers=null,this.source=t}notify(t){var e;const s=this.subscribers[t];s!==void 0&&s.notify(t),(e=this.sourceSubscribers)===null||e===void 0||e.notify(t)}subscribe(t,e){var s;if(e){let n=this.subscribers[e];n===void 0&&(this.subscribers[e]=n=new U(this.source)),n.subscribe(t)}else this.sourceSubscribers=(s=this.sourceSubscribers)!==null&&s!==void 0?s:new U(this.source),this.sourceSubscribers.subscribe(t)}unsubscribe(t,e){var s;if(e){const n=this.subscribers[e];n!==void 0&&n.unsubscribe(t)}else(s=this.sourceSubscribers)===null||s===void 0||s.unsubscribe(t)}}const y=I.getById(2,()=>{const i=/(:|&&|\|\||if)/,t=new WeakMap,e=new WeakMap,s=m.queueUpdate;let n,r=h=>{throw new Error("Must call enableArrayObservation before observing arrays.")};function o(h){let c=h.$fastController||t.get(h);return c===void 0&&(Array.isArray(h)?c=r(h):t.set(h,c=new Kt(h))),c}function a(h){let c=e.get(h);if(c===void 0){let d=Reflect.getPrototypeOf(h);for(;c===void 0&&d!==null;)c=e.get(d),d=Reflect.getPrototypeOf(d);c===void 0?c=[]:c=c.slice(0),e.set(h,c)}return c}class l{constructor(c){this.name=c,this.field=`_${c}`,this.callback=`${c}Changed`}getValue(c){return n!==void 0&&n.watch(c,this.name),c[this.field]}setValue(c,d){const p=this.field,g=c[p];if(g!==d){c[p]=d;const C=c[this.callback];typeof C=="function"&&C.call(c,g,d),o(c).notify(this.name)}}}class u extends U{constructor(c,d,p=!1){super(c,d),this.binding=c,this.isVolatileBinding=p,this.needsRefresh=!0,this.needsQueue=!0,this.first=this,this.last=null,this.propertySource=void 0,this.propertyName=void 0,this.notifier=void 0,this.next=void 0}observe(c,d){this.needsRefresh&&this.last!==null&&this.disconnect();const p=n;n=this.needsRefresh?this:void 0,this.needsRefresh=this.isVolatileBinding;const g=this.binding(c,d);return n=p,g}disconnect(){if(this.last!==null){let c=this.first;for(;c!==void 0;)c.notifier.unsubscribe(this,c.propertyName),c=c.next;this.last=null,this.needsRefresh=this.needsQueue=!0}}watch(c,d){const p=this.last,g=o(c),C=p===null?this.first:{};if(C.propertySource=c,C.propertyName=d,C.notifier=g,g.subscribe(this,d),p!==null){if(!this.needsRefresh){let O;n=void 0,O=p.propertySource[p.propertyName],n=this,c===O&&(this.needsRefresh=!0)}p.next=C}this.last=C}handleChange(){this.needsQueue&&(this.needsQueue=!1,s(this))}call(){this.last!==null&&(this.needsQueue=!0,this.notify(this))}records(){let c=this.first;return{next:()=>{const d=c;return d===void 0?{value:void 0,done:!0}:(c=c.next,{value:d,done:!1})},[Symbol.iterator]:function(){return this}}}}return Object.freeze({setArrayObserverFactory(h){r=h},getNotifier:o,track(h,c){n!==void 0&&n.watch(h,c)},trackVolatile(){n!==void 0&&(n.needsRefresh=!0)},notify(h,c){o(h).notify(c)},defineProperty(h,c){typeof c=="string"&&(c=new l(c)),a(h).push(c),Reflect.defineProperty(h,c.name,{enumerable:!0,get:function(){return c.getValue(this)},set:function(d){c.setValue(this,d)}})},getAccessors:a,binding(h,c,d=this.isVolatileBinding(h)){return new u(h,c,d)},isVolatileBinding(h){return i.test(h.toString())}})});function _(i,t){y.defineProperty(i,t)}const Ot=I.getById(3,()=>{let i=null;return{get(){return i},set(t){i=t}}});class E{constructor(){this.index=0,this.length=0,this.parent=null,this.parentContext=null}get event(){return Ot.get()}get isEven(){return this.index%2===0}get isOdd(){return this.index%2!==0}get isFirst(){return this.index===0}get isInMiddle(){return!this.isFirst&&!this.isLast}get isLast(){return this.index===this.length-1}static setEvent(t){Ot.set(t)}}y.defineProperty(E.prototype,"index");y.defineProperty(E.prototype,"length");const R=Object.seal(new E);class D{constructor(){this.targetIndex=0}}class Gt extends D{constructor(){super(...arguments),this.createPlaceholder=m.createInterpolationPlaceholder}}class we extends D{constructor(t,e,s){super(),this.name=t,this.behavior=e,this.options=s}createPlaceholder(t){return m.createCustomAttributePlaceholder(this.name,t)}createBehavior(t){return new this.behavior(t,this.options)}}function Se(i,t){this.source=i,this.context=t,this.bindingObserver===null&&(this.bindingObserver=y.binding(this.binding,this,this.isBindingVolatile)),this.updateTarget(this.bindingObserver.observe(i,t))}function xe(i,t){this.source=i,this.context=t,this.target.addEventListener(this.targetName,this)}function Ae(){this.bindingObserver.disconnect(),this.source=null,this.context=null}function Be(){this.bindingObserver.disconnect(),this.source=null,this.context=null;const i=this.target.$fastView;i!==void 0&&i.isComposed&&(i.unbind(),i.needsBindOnly=!0)}function $e(){this.target.removeEventListener(this.targetName,this),this.source=null,this.context=null}function Oe(i){m.setAttribute(this.target,this.targetName,i)}function _e(i){m.setBooleanAttribute(this.target,this.targetName,i)}function ke(i){if(i==null&&(i=""),i.create){this.target.textContent="";let t=this.target.$fastView;t===void 0?t=i.create():this.target.$fastTemplate!==i&&(t.isComposed&&(t.remove(),t.unbind()),t=i.create()),t.isComposed?t.needsBindOnly&&(t.needsBindOnly=!1,t.bind(this.source,this.context)):(t.isComposed=!0,t.bind(this.source,this.context),t.insertBefore(this.target),this.target.$fastView=t,this.target.$fastTemplate=i)}else{const t=this.target.$fastView;t!==void 0&&t.isComposed&&(t.isComposed=!1,t.remove(),t.needsBindOnly?t.needsBindOnly=!1:t.unbind()),this.target.textContent=i}}function Te(i){this.target[this.targetName]=i}function Ne(i){const t=this.classVersions||Object.create(null),e=this.target;let s=this.version||0;if(i!=null&&i.length){const n=i.split(/\s+/);for(let r=0,o=n.length;r<o;++r){const a=n[r];a!==""&&(t[a]=s,e.classList.add(a))}}if(this.classVersions=t,this.version=s+1,s!==0){s-=1;for(const n in t)t[n]===s&&e.classList.remove(n)}}class gt extends Gt{constructor(t){super(),this.binding=t,this.bind=Se,this.unbind=Ae,this.updateTarget=Oe,this.isBindingVolatile=y.isVolatileBinding(this.binding)}get targetName(){return this.originalTargetName}set targetName(t){if(this.originalTargetName=t,t!==void 0)switch(t[0]){case":":if(this.cleanedTargetName=t.substr(1),this.updateTarget=Te,this.cleanedTargetName==="innerHTML"){const e=this.binding;this.binding=(s,n)=>m.createHTML(e(s,n))}break;case"?":this.cleanedTargetName=t.substr(1),this.updateTarget=_e;break;case"@":this.cleanedTargetName=t.substr(1),this.bind=xe,this.unbind=$e;break;default:this.cleanedTargetName=t,t==="class"&&(this.updateTarget=Ne);break}}targetAtContent(){this.updateTarget=ke,this.unbind=Be}createBehavior(t){return new Pe(t,this.binding,this.isBindingVolatile,this.bind,this.unbind,this.updateTarget,this.cleanedTargetName)}}class Pe{constructor(t,e,s,n,r,o,a){this.source=null,this.context=null,this.bindingObserver=null,this.target=t,this.binding=e,this.isBindingVolatile=s,this.bind=n,this.unbind=r,this.updateTarget=o,this.targetName=a}handleChange(){this.updateTarget(this.bindingObserver.observe(this.source,this.context))}handleEvent(t){E.setEvent(t);const e=this.binding(this.source,this.context);E.setEvent(null),e!==!0&&t.preventDefault()}}let st=null;class mt{addFactory(t){t.targetIndex=this.targetIndex,this.behaviorFactories.push(t)}captureContentBinding(t){t.targetAtContent(),this.addFactory(t)}reset(){this.behaviorFactories=[],this.targetIndex=-1}release(){st=this}static borrow(t){const e=st||new mt;return e.directives=t,e.reset(),st=null,e}}function Le(i){if(i.length===1)return i[0];let t;const e=i.length,s=i.map(o=>typeof o=="string"?()=>o:(t=o.targetName||t,o.binding)),n=(o,a)=>{let l="";for(let u=0;u<e;++u)l+=s[u](o,a);return l},r=new gt(n);return r.targetName=t,r}const Re=vt.length;function Jt(i,t){const e=t.split(Wt);if(e.length===1)return null;const s=[];for(let n=0,r=e.length;n<r;++n){const o=e[n],a=o.indexOf(vt);let l;if(a===-1)l=o;else{const u=parseInt(o.substring(0,a));s.push(i.directives[u]),l=o.substring(a+Re)}l!==""&&s.push(l)}return s}function _t(i,t,e=!1){const s=t.attributes;for(let n=0,r=s.length;n<r;++n){const o=s[n],a=o.value,l=Jt(i,a);let u=null;l===null?e&&(u=new gt(()=>a),u.targetName=o.name):u=Le(l),u!==null&&(t.removeAttributeNode(o),n--,r--,i.addFactory(u))}}function ze(i,t,e){const s=Jt(i,t.textContent);if(s!==null){let n=t;for(let r=0,o=s.length;r<o;++r){const a=s[r],l=r===0?t:n.parentNode.insertBefore(document.createTextNode(""),n.nextSibling);typeof a=="string"?l.textContent=a:(l.textContent=" ",i.captureContentBinding(a)),n=l,i.targetIndex++,l!==t&&e.nextNode()}i.targetIndex--}}function Ie(i,t){const e=i.content;document.adoptNode(e);const s=mt.borrow(t);_t(s,i,!0);const n=s.behaviorFactories;s.reset();const r=m.createTemplateWalker(e);let o;for(;o=r.nextNode();)switch(s.targetIndex++,o.nodeType){case 1:_t(s,o);break;case 3:ze(s,o,r);break;case 8:m.isMarker(o)&&s.addFactory(t[m.extractDirectiveIndexFromMarker(o)])}let a=0;(m.isMarker(e.firstChild)||e.childNodes.length===1&&t.length)&&(e.insertBefore(document.createComment(""),e.firstChild),a=-1);const l=s.behaviorFactories;return s.release(),{fragment:e,viewBehaviorFactories:l,hostBehaviorFactories:n,targetOffset:a}}const nt=document.createRange();class bt{constructor(t,e){this.fragment=t,this.behaviors=e,this.source=null,this.context=null,this.firstChild=t.firstChild,this.lastChild=t.lastChild}appendTo(t){t.appendChild(this.fragment)}insertBefore(t){if(this.fragment.hasChildNodes())t.parentNode.insertBefore(this.fragment,t);else{const e=t.parentNode,s=this.lastChild;let n=this.firstChild,r;for(;n!==s;)r=n.nextSibling,e.insertBefore(n,t),n=r;e.insertBefore(s,t)}}remove(){const t=this.fragment,e=this.lastChild;let s=this.firstChild,n;for(;s!==e;)n=s.nextSibling,t.appendChild(s),s=n;t.appendChild(e)}dispose(){const t=this.firstChild.parentNode,e=this.lastChild;let s=this.firstChild,n;for(;s!==e;)n=s.nextSibling,t.removeChild(s),s=n;t.removeChild(e);const r=this.behaviors,o=this.source;for(let a=0,l=r.length;a<l;++a)r[a].unbind(o)}bind(t,e){const s=this.behaviors;if(this.source!==t)if(this.source!==null){const n=this.source;this.source=t,this.context=e;for(let r=0,o=s.length;r<o;++r){const a=s[r];a.unbind(n),a.bind(t,e)}}else{this.source=t,this.context=e;for(let n=0,r=s.length;n<r;++n)s[n].bind(t,e)}}unbind(){if(this.source===null)return;const t=this.behaviors,e=this.source;for(let s=0,n=t.length;s<n;++s)t[s].unbind(e);this.source=null}static disposeContiguousBatch(t){if(t.length!==0){nt.setStartBefore(t[0].firstChild),nt.setEndAfter(t[t.length-1].lastChild),nt.deleteContents();for(let e=0,s=t.length;e<s;++e){const n=t[e],r=n.behaviors,o=n.source;for(let a=0,l=r.length;a<l;++a)r[a].unbind(o)}}}}class at{constructor(t,e){this.behaviorCount=0,this.hasHostBehaviors=!1,this.fragment=null,this.targetOffset=0,this.viewBehaviorFactories=null,this.hostBehaviorFactories=null,this.html=t,this.directives=e}create(t){if(this.fragment===null){let u;const h=this.html;if(typeof h=="string"){u=document.createElement("template"),u.innerHTML=m.createHTML(h);const d=u.content.firstElementChild;d!==null&&d.tagName==="TEMPLATE"&&(u=d)}else u=h;const c=Ie(u,this.directives);this.fragment=c.fragment,this.viewBehaviorFactories=c.viewBehaviorFactories,this.hostBehaviorFactories=c.hostBehaviorFactories,this.targetOffset=c.targetOffset,this.behaviorCount=this.viewBehaviorFactories.length+this.hostBehaviorFactories.length,this.hasHostBehaviors=this.hostBehaviorFactories.length>0}const e=this.fragment.cloneNode(!0),s=this.viewBehaviorFactories,n=new Array(this.behaviorCount),r=m.createTemplateWalker(e);let o=0,a=this.targetOffset,l=r.nextNode();for(let u=s.length;o<u;++o){const h=s[o],c=h.targetIndex;for(;l!==null;)if(a===c){n[o]=h.createBehavior(l);break}else l=r.nextNode(),a++}if(this.hasHostBehaviors){const u=this.hostBehaviorFactories;for(let h=0,c=u.length;h<c;++h,++o)n[o]=u[h].createBehavior(t)}return new bt(e,n)}render(t,e,s){typeof e=="string"&&(e=document.getElementById(e)),s===void 0&&(s=e);const n=this.create(s);return n.bind(t,R),n.appendTo(e),n}}const Ee=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;function b(i,...t){const e=[];let s="";for(let n=0,r=i.length-1;n<r;++n){const o=i[n];let a=t[n];if(s+=o,a instanceof at){const l=a;a=()=>l}if(typeof a=="function"&&(a=new gt(a)),a instanceof Gt){const l=Ee.exec(o);l!==null&&(a.targetName=l[2])}a instanceof D?(s+=a.createPlaceholder(e.length),e.push(a)):s+=a}return s+=i[i.length-1],new at(s,e)}class w{constructor(){this.targets=new WeakSet}addStylesTo(t){this.targets.add(t)}removeStylesFrom(t){this.targets.delete(t)}isAttachedTo(t){return this.targets.has(t)}withBehaviors(...t){return this.behaviors=this.behaviors===null?t:this.behaviors.concat(t),this}}w.create=(()=>{if(m.supportsAdoptedStyleSheets){const i=new Map;return t=>new je(t,i)}return i=>new Ve(i)})();function yt(i){return i.map(t=>t instanceof w?yt(t.styles):[t]).reduce((t,e)=>t.concat(e),[])}function Xt(i){return i.map(t=>t instanceof w?t.behaviors:null).reduce((t,e)=>e===null?t:(t===null&&(t=[]),t.concat(e)),null)}class je extends w{constructor(t,e){super(),this.styles=t,this.styleSheetCache=e,this._styleSheets=void 0,this.behaviors=Xt(t)}get styleSheets(){if(this._styleSheets===void 0){const t=this.styles,e=this.styleSheetCache;this._styleSheets=yt(t).map(s=>{if(s instanceof CSSStyleSheet)return s;let n=e.get(s);return n===void 0&&(n=new CSSStyleSheet,n.replaceSync(s),e.set(s,n)),n})}return this._styleSheets}addStylesTo(t){t.adoptedStyleSheets=[...t.adoptedStyleSheets,...this.styleSheets],super.addStylesTo(t)}removeStylesFrom(t){const e=this.styleSheets;t.adoptedStyleSheets=t.adoptedStyleSheets.filter(s=>e.indexOf(s)===-1),super.removeStylesFrom(t)}}let De=0;function Fe(){return`fast-style-class-${++De}`}class Ve extends w{constructor(t){super(),this.styles=t,this.behaviors=null,this.behaviors=Xt(t),this.styleSheets=yt(t),this.styleClass=Fe()}addStylesTo(t){const e=this.styleSheets,s=this.styleClass;t=this.normalizeTarget(t);for(let n=0;n<e.length;n++){const r=document.createElement("style");r.innerHTML=e[n],r.className=s,t.append(r)}super.addStylesTo(t)}removeStylesFrom(t){t=this.normalizeTarget(t);const e=t.querySelectorAll(`.${this.styleClass}`);for(let s=0,n=e.length;s<n;++s)t.removeChild(e[s]);super.removeStylesFrom(t)}isAttachedTo(t){return super.isAttachedTo(this.normalizeTarget(t))}normalizeTarget(t){return t===document?document.body:t}}const Me={toView(i){return i?"true":"false"},fromView(i){return!(i==null||i==="false"||i===!1||i===0)}};class H{constructor(t,e,s=e.toLowerCase(),n="reflect",r){this.guards=new Set,this.Owner=t,this.name=e,this.attribute=s,this.mode=n,this.converter=r,this.fieldName=`_${e}`,this.callbackName=`${e}Changed`,this.hasCallback=this.callbackName in t.prototype,n==="boolean"&&r===void 0&&(this.converter=Me)}setValue(t,e){const s=t[this.fieldName],n=this.converter;n!==void 0&&(e=n.fromView(e)),s!==e&&(t[this.fieldName]=e,this.tryReflectToAttribute(t),this.hasCallback&&t[this.callbackName](s,e),t.$fastController.notify(this.name))}getValue(t){return y.track(t,this.name),t[this.fieldName]}onAttributeChangedCallback(t,e){this.guards.has(t)||(this.guards.add(t),this.setValue(t,e),this.guards.delete(t))}tryReflectToAttribute(t){const e=this.mode,s=this.guards;s.has(t)||e==="fromView"||m.queueUpdate(()=>{s.add(t);const n=t[this.fieldName];switch(e){case"reflect":const r=this.converter;m.setAttribute(t,this.attribute,r!==void 0?r.toView(n):n);break;case"boolean":m.setBooleanAttribute(t,this.attribute,n);break}s.delete(t)})}static collect(t,...e){const s=[];e.push(t.attributes);for(let n=0,r=e.length;n<r;++n){const o=e[n];if(o!==void 0)for(let a=0,l=o.length;a<l;++a){const u=o[a];typeof u=="string"?s.push(new H(t,u)):s.push(new H(t,u.property,u.attribute,u.mode,u.converter))}}return s}}function Ct(i,t){let e;function s(n,r){arguments.length>1&&(e.property=r),(n.constructor.attributes||(n.constructor.attributes=[])).push(e)}if(arguments.length>1){e={},s(i,t);return}return e=i===void 0?{}:i,s}const kt={mode:"open"},Tt={},lt=I.getById(4,()=>{const i=new Map;return Object.freeze({register(t){return i.has(t.type)?!1:(i.set(t.type,t),!0)},getByType(t){return i.get(t)}})});class N{constructor(t,e=t.definition){typeof e=="string"&&(e={name:e}),this.type=t,this.name=e.name,this.template=e.template;const s=H.collect(t,e.attributes),n=new Array(s.length),r={},o={};for(let a=0,l=s.length;a<l;++a){const u=s[a];n[a]=u.attribute,r[u.name]=u,o[u.attribute]=u}this.attributes=s,this.observedAttributes=n,this.propertyLookup=r,this.attributeLookup=o,this.shadowOptions=e.shadowOptions===void 0?kt:e.shadowOptions===null?void 0:Object.assign(Object.assign({},kt),e.shadowOptions),this.elementOptions=e.elementOptions===void 0?Tt:Object.assign(Object.assign({},Tt),e.elementOptions),this.styles=e.styles===void 0?void 0:Array.isArray(e.styles)?w.create(e.styles):e.styles instanceof w?e.styles:w.create([e.styles])}get isDefined(){return!!lt.getByType(this.type)}define(t=customElements){const e=this.type;if(lt.register(this)){const s=this.attributes,n=e.prototype;for(let r=0,o=s.length;r<o;++r)y.defineProperty(n,s[r]);Reflect.defineProperty(e,"observedAttributes",{value:this.observedAttributes,enumerable:!0})}return t.get(this.name)||t.define(this.name,e,this.elementOptions),this}}N.forType=lt.getByType;const Yt=new WeakMap,Ue={bubbles:!0,composed:!0,cancelable:!0};function rt(i){return i.shadowRoot||Yt.get(i)||null}class wt extends Kt{constructor(t,e){super(t),this.boundObservables=null,this.behaviors=null,this.needsInitialization=!0,this._template=null,this._styles=null,this._isConnected=!1,this.$fastController=this,this.view=null,this.element=t,this.definition=e;const s=e.shadowOptions;if(s!==void 0){const r=t.attachShadow(s);s.mode==="closed"&&Yt.set(t,r)}const n=y.getAccessors(t);if(n.length>0){const r=this.boundObservables=Object.create(null);for(let o=0,a=n.length;o<a;++o){const l=n[o].name,u=t[l];u!==void 0&&(delete t[l],r[l]=u)}}}get isConnected(){return y.track(this,"isConnected"),this._isConnected}setIsConnected(t){this._isConnected=t,y.notify(this,"isConnected")}get template(){return this._template}set template(t){this._template!==t&&(this._template=t,this.needsInitialization||this.renderTemplate(t))}get styles(){return this._styles}set styles(t){this._styles!==t&&(this._styles!==null&&this.removeStyles(this._styles),this._styles=t,!this.needsInitialization&&t!==null&&this.addStyles(t))}addStyles(t){const e=rt(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.append(t);else if(!t.isAttachedTo(e)){const s=t.behaviors;t.addStylesTo(e),s!==null&&this.addBehaviors(s)}}removeStyles(t){const e=rt(this.element)||this.element.getRootNode();if(t instanceof HTMLStyleElement)e.removeChild(t);else if(t.isAttachedTo(e)){const s=t.behaviors;t.removeStylesFrom(e),s!==null&&this.removeBehaviors(s)}}addBehaviors(t){const e=this.behaviors||(this.behaviors=new Map),s=t.length,n=[];for(let r=0;r<s;++r){const o=t[r];e.has(o)?e.set(o,e.get(o)+1):(e.set(o,1),n.push(o))}if(this._isConnected){const r=this.element;for(let o=0;o<n.length;++o)n[o].bind(r,R)}}removeBehaviors(t,e=!1){const s=this.behaviors;if(s===null)return;const n=t.length,r=[];for(let o=0;o<n;++o){const a=t[o];if(s.has(a)){const l=s.get(a)-1;l===0||e?s.delete(a)&&r.push(a):s.set(a,l)}}if(this._isConnected){const o=this.element;for(let a=0;a<r.length;++a)r[a].unbind(o)}}onConnectedCallback(){if(this._isConnected)return;const t=this.element;this.needsInitialization?this.finishInitialization():this.view!==null&&this.view.bind(t,R);const e=this.behaviors;if(e!==null)for(const[s]of e)s.bind(t,R);this.setIsConnected(!0)}onDisconnectedCallback(){if(!this._isConnected)return;this.setIsConnected(!1);const t=this.view;t!==null&&t.unbind();const e=this.behaviors;if(e!==null){const s=this.element;for(const[n]of e)n.unbind(s)}}onAttributeChangedCallback(t,e,s){const n=this.definition.attributeLookup[t];n!==void 0&&n.onAttributeChangedCallback(this.element,s)}emit(t,e,s){return this._isConnected?this.element.dispatchEvent(new CustomEvent(t,Object.assign(Object.assign({detail:e},Ue),s))):!1}finishInitialization(){const t=this.element,e=this.boundObservables;if(e!==null){const n=Object.keys(e);for(let r=0,o=n.length;r<o;++r){const a=n[r];t[a]=e[a]}this.boundObservables=null}const s=this.definition;this._template===null&&(this.element.resolveTemplate?this._template=this.element.resolveTemplate():s.template&&(this._template=s.template||null)),this._template!==null&&this.renderTemplate(this._template),this._styles===null&&(this.element.resolveStyles?this._styles=this.element.resolveStyles():s.styles&&(this._styles=s.styles||null)),this._styles!==null&&this.addStyles(this._styles),this.needsInitialization=!1}renderTemplate(t){const e=this.element,s=rt(e)||e;this.view!==null?(this.view.dispose(),this.view=null):this.needsInitialization||m.removeChildNodes(s),t&&(this.view=t.render(e,s,e))}static forCustomElement(t){const e=t.$fastController;if(e!==void 0)return e;const s=N.forType(t.constructor);if(s===void 0)throw new Error("Missing FASTElement definition.");return t.$fastController=new wt(t,s)}}function Nt(i){return class extends i{constructor(){super(),wt.forCustomElement(this)}$emit(t,e,s){return this.$fastController.emit(t,e,s)}connectedCallback(){this.$fastController.onConnectedCallback()}disconnectedCallback(){this.$fastController.onDisconnectedCallback()}attributeChangedCallback(t,e,s){this.$fastController.onAttributeChangedCallback(t,e,s)}}}const S=Object.assign(Nt(HTMLElement),{from(i){return Nt(i)},define(i,t){return new N(i,t).define().type}});function B(i){return function(t){new N(t,i).define()}}class He{createCSS(){return""}createBehavior(){}}function qe(i,t){const e=[];let s="";const n=[];for(let r=0,o=i.length-1;r<o;++r){s+=i[r];let a=t[r];if(a instanceof He){const l=a.createBehavior();a=a.createCSS(),l&&n.push(l)}a instanceof w||a instanceof CSSStyleSheet?(s.trim()!==""&&(e.push(s),s=""),e.push(a)):s+=a}return s+=i[i.length-1],s.trim()!==""&&e.push(s),{styles:e,behaviors:n}}function F(i,...t){const{styles:e,behaviors:s}=qe(i,t),n=w.create(e);return s.length&&n.withBehaviors(...s),n}function $(i,t,e){return{index:i,removed:t,addedCount:e}}const Zt=0,te=1,ct=2,ut=3;function Qe(i,t,e,s,n,r){const o=r-n+1,a=e-t+1,l=new Array(o);let u,h;for(let c=0;c<o;++c)l[c]=new Array(a),l[c][0]=c;for(let c=0;c<a;++c)l[0][c]=c;for(let c=1;c<o;++c)for(let d=1;d<a;++d)i[t+d-1]===s[n+c-1]?l[c][d]=l[c-1][d-1]:(u=l[c-1][d]+1,h=l[c][d-1]+1,l[c][d]=u<h?u:h);return l}function We(i){let t=i.length-1,e=i[0].length-1,s=i[t][e];const n=[];for(;t>0||e>0;){if(t===0){n.push(ct),e--;continue}if(e===0){n.push(ut),t--;continue}const r=i[t-1][e-1],o=i[t-1][e],a=i[t][e-1];let l;o<a?l=o<r?o:r:l=a<r?a:r,l===r?(r===s?n.push(Zt):(n.push(te),s=r),t--,e--):l===o?(n.push(ut),t--,s=o):(n.push(ct),e--,s=a)}return n.reverse(),n}function Ke(i,t,e){for(let s=0;s<e;++s)if(i[s]!==t[s])return s;return e}function Ge(i,t,e){let s=i.length,n=t.length,r=0;for(;r<e&&i[--s]===t[--n];)r++;return r}function Je(i,t,e,s){return t<e||s<i?-1:t===e||s===i?0:i<e?t<s?t-e:s-e:s<t?s-i:t-i}function ee(i,t,e,s,n,r){let o=0,a=0;const l=Math.min(e-t,r-n);if(t===0&&n===0&&(o=Ke(i,s,l)),e===i.length&&r===s.length&&(a=Ge(i,s,l-o)),t+=o,n+=o,e-=a,r-=a,e-t===0&&r-n===0)return qt;if(t===e){const g=$(t,[],0);for(;n<r;)g.removed.push(s[n++]);return[g]}else if(n===r)return[$(t,[],e-t)];const u=We(Qe(i,t,e,s,n,r)),h=[];let c,d=t,p=n;for(let g=0;g<u.length;++g)switch(u[g]){case Zt:c!==void 0&&(h.push(c),c=void 0),d++,p++;break;case te:c===void 0&&(c=$(d,[],0)),c.addedCount++,d++,c.removed.push(s[p]),p++;break;case ct:c===void 0&&(c=$(d,[],0)),c.addedCount++,d++;break;case ut:c===void 0&&(c=$(d,[],0)),c.removed.push(s[p]),p++;break}return c!==void 0&&h.push(c),h}const Pt=Array.prototype.push;function Xe(i,t,e,s){const n=$(t,e,s);let r=!1,o=0;for(let a=0;a<i.length;a++){const l=i[a];if(l.index+=o,r)continue;const u=Je(n.index,n.index+n.removed.length,l.index,l.index+l.addedCount);if(u>=0){i.splice(a,1),a--,o-=l.addedCount-l.removed.length,n.addedCount+=l.addedCount-u;const h=n.removed.length+l.removed.length-u;if(!n.addedCount&&!h)r=!0;else{let c=l.removed;if(n.index<l.index){const d=n.removed.slice(0,l.index-n.index);Pt.apply(d,c),c=d}if(n.index+n.removed.length>l.index+l.addedCount){const d=n.removed.slice(l.index+l.addedCount-n.index);Pt.apply(c,d)}n.removed=c,l.index<n.index&&(n.index=l.index)}}else if(n.index<l.index){r=!0,i.splice(a,0,n),a++;const h=n.addedCount-n.removed.length;l.index+=h,o+=h}}r||i.push(n)}function Ye(i){const t=[];for(let e=0,s=i.length;e<s;e++){const n=i[e];Xe(t,n.index,n.removed,n.addedCount)}return t}function Ze(i,t){let e=[];const s=Ye(t);for(let n=0,r=s.length;n<r;++n){const o=s[n];if(o.addedCount===1&&o.removed.length===1){o.removed[0]!==i[o.index]&&e.push(o);continue}e=e.concat(ee(i,o.index,o.index+o.addedCount,o.removed,0,o.removed.length))}return e}let Lt=!1;function ot(i,t){let e=i.index;const s=t.length;return e>s?e=s-i.addedCount:e<0&&(e=s+i.removed.length+e-i.addedCount),e<0&&(e=0),i.index=e,i}class ti extends U{constructor(t){super(t),this.oldCollection=void 0,this.splices=void 0,this.needsQueue=!0,this.call=this.flush,Reflect.defineProperty(t,"$fastController",{value:this,enumerable:!1})}subscribe(t){this.flush(),super.subscribe(t)}addSplice(t){this.splices===void 0?this.splices=[t]:this.splices.push(t),this.needsQueue&&(this.needsQueue=!1,m.queueUpdate(this))}reset(t){this.oldCollection=t,this.needsQueue&&(this.needsQueue=!1,m.queueUpdate(this))}flush(){const t=this.splices,e=this.oldCollection;if(t===void 0&&e===void 0)return;this.needsQueue=!0,this.splices=void 0,this.oldCollection=void 0;const s=e===void 0?Ze(this.source,t):ee(this.source,0,this.source.length,e,0,e.length);this.notify(s)}}function ei(){if(Lt)return;Lt=!0,y.setArrayObserverFactory(l=>new ti(l));const i=Array.prototype;if(i.$fastPatch)return;Reflect.defineProperty(i,"$fastPatch",{value:1,enumerable:!1});const t=i.pop,e=i.push,s=i.reverse,n=i.shift,r=i.sort,o=i.splice,a=i.unshift;i.pop=function(){const l=this.length>0,u=t.apply(this,arguments),h=this.$fastController;return h!==void 0&&l&&h.addSplice($(this.length,[u],0)),u},i.push=function(){const l=e.apply(this,arguments),u=this.$fastController;return u!==void 0&&u.addSplice(ot($(this.length-arguments.length,[],arguments.length),this)),l},i.reverse=function(){let l;const u=this.$fastController;u!==void 0&&(u.flush(),l=this.slice());const h=s.apply(this,arguments);return u!==void 0&&u.reset(l),h},i.shift=function(){const l=this.length>0,u=n.apply(this,arguments),h=this.$fastController;return h!==void 0&&l&&h.addSplice($(0,[u],0)),u},i.sort=function(){let l;const u=this.$fastController;u!==void 0&&(u.flush(),l=this.slice());const h=r.apply(this,arguments);return u!==void 0&&u.reset(l),h},i.splice=function(){const l=o.apply(this,arguments),u=this.$fastController;return u!==void 0&&u.addSplice(ot($(+arguments[0],l,arguments.length>2?arguments.length-2:0),this)),l},i.unshift=function(){const l=a.apply(this,arguments),u=this.$fastController;return u!==void 0&&u.addSplice(ot($(0,[],arguments.length),this)),l}}class ii{constructor(t,e){this.target=t,this.propertyName=e}bind(t){t[this.propertyName]=this.target}unbind(){}}function si(i){return new we("fast-ref",ii,i)}const ni=Object.freeze({positioning:!1,recycle:!0});function ri(i,t,e,s){i.bind(t[e],s)}function oi(i,t,e,s){const n=Object.create(s);n.index=e,n.length=t.length,i.bind(t[e],n)}class ai{constructor(t,e,s,n,r,o){this.location=t,this.itemsBinding=e,this.templateBinding=n,this.options=o,this.source=null,this.views=[],this.items=null,this.itemsObserver=null,this.originalContext=void 0,this.childContext=void 0,this.bindView=ri,this.itemsBindingObserver=y.binding(e,this,s),this.templateBindingObserver=y.binding(n,this,r),o.positioning&&(this.bindView=oi)}bind(t,e){this.source=t,this.originalContext=e,this.childContext=Object.create(e),this.childContext.parent=t,this.childContext.parentContext=this.originalContext,this.items=this.itemsBindingObserver.observe(t,this.originalContext),this.template=this.templateBindingObserver.observe(t,this.originalContext),this.observeItems(!0),this.refreshAllViews()}unbind(){this.source=null,this.items=null,this.itemsObserver!==null&&this.itemsObserver.unsubscribe(this),this.unbindAllViews(),this.itemsBindingObserver.disconnect(),this.templateBindingObserver.disconnect()}handleChange(t,e){t===this.itemsBinding?(this.items=this.itemsBindingObserver.observe(this.source,this.originalContext),this.observeItems(),this.refreshAllViews()):t===this.templateBinding?(this.template=this.templateBindingObserver.observe(this.source,this.originalContext),this.refreshAllViews(!0)):this.updateViews(e)}observeItems(t=!1){if(!this.items){this.items=qt;return}const e=this.itemsObserver,s=this.itemsObserver=y.getNotifier(this.items),n=e!==s;n&&e!==null&&e.unsubscribe(this),(n||t)&&s.subscribe(this)}updateViews(t){const e=this.childContext,s=this.views,n=[],r=this.bindView;let o=0;for(let u=0,h=t.length;u<h;++u){const c=t[u],d=c.removed;n.push(...s.splice(c.index+o,d.length)),o-=c.addedCount}const a=this.items,l=this.template;for(let u=0,h=t.length;u<h;++u){const c=t[u];let d=c.index;const p=d+c.addedCount;for(;d<p;++d){const g=s[d],C=g?g.firstChild:this.location,O=this.options.recycle&&n.length>0?n.shift():l.create();s.splice(d,0,O),r(O,a,d,e),O.insertBefore(C)}}for(let u=0,h=n.length;u<h;++u)n[u].dispose();if(this.options.positioning)for(let u=0,h=s.length;u<h;++u){const c=s[u].context;c.length=h,c.index=u}}refreshAllViews(t=!1){const e=this.items,s=this.childContext,n=this.template,r=this.location,o=this.bindView;let a=e.length,l=this.views,u=l.length;if((a===0||t)&&(bt.disposeContiguousBatch(l),u=0),u===0){this.views=l=new Array(a);for(let h=0;h<a;++h){const c=n.create();o(c,e,h,s),l[h]=c,c.insertBefore(r)}}else{let h=0;for(;h<a;++h)if(h<u){const d=l[h];o(d,e,h,s)}else{const d=n.create();o(d,e,h,s),l.push(d),d.insertBefore(r)}const c=l.splice(h,u-h);for(h=0,a=c.length;h<a;++h)c[h].dispose()}}unbindAllViews(){const t=this.views;for(let e=0,s=t.length;e<s;++e)t[e].unbind()}}class li extends D{constructor(t,e,s){super(),this.itemsBinding=t,this.templateBinding=e,this.options=s,this.createPlaceholder=m.createBlockPlaceholder,ei(),this.isItemsBindingVolatile=y.isVolatileBinding(t),this.isTemplateBindingVolatile=y.isVolatileBinding(e)}createBehavior(t){return new ai(t,this.itemsBinding,this.isItemsBindingVolatile,this.templateBinding,this.isTemplateBindingVolatile,this.options)}}function q(i,t,e=ni){const s=typeof t=="function"?t:()=>t;return new li(i,s,e)}var ci=Object.defineProperty,ui=Object.getOwnPropertyDescriptor,ie=(i,t,e,s)=>{for(var n=s>1?void 0:s?ui(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&ci(t,e,n),n};let v=class extends S{constructor(){super(...arguments),this.activated="smoke",this.stuffs=["smoke","flash","molotov","grenade"]}static setupNewStream(){var i;(i=v.stuffActivatedReader)==null||i.cancel(),v.stuffActivated$=Ut(t=>{v.controller=t}),v.stuffActivatedReader=v.stuffActivated$.getReader()}connectedCallback(){v.setupNewStream(),super.connectedCallback()}activate(i){this.activated=i,v.stuffActivated=i,v.controller.enqueue(i)}capitalizeFirstLetter(i){return i.charAt(0).toUpperCase()+i.slice(1)}};v.stuffActivated="smoke";ie([Ct],v.prototype,"activated",2);v=ie([B({name:"app-stuff-selector",styles:F`
		ul {
			margin: 0;
			padding: 0;
			background: #000;
			height: 100vh;
			width: calc((100vw - 100vh) / 2);
		}

		li {
			list-style-type: none;
			cursor: pointer;
			padding: 10px 20px;
			color: #fff;
			font-size: 1.5rem;
			display: block;
		}

		li:hover,
		li.activated {
			background: #212121;
		}

		.activated {
			font-weight: 700;
		}
	`,template:b`
		<ul>
			${q(i=>i.stuffs,b`
					<li
						@click="${(i,t)=>t.parent.activate(i)}"
						class="${(i,t)=>t.parent.activated===i?"activated":""}"
					>
						${(i,t)=>t.parent.capitalizeFirstLetter(i)}
					</li>
				`)}
		</ul>
	`})],v);async function T(i,t){let e=!1;do{const s=await hi(i);s.done||t(s.value),e=s.done}while(!e)}async function hi(i){return await i.read()}const St=class{constructor(){return this.actualMapName$=Ut(i=>{this.controller=i}),St.instance}onNavigationEnd(i,t){const e=t.endpoint.path.split("/")[1];this.controller.enqueue(e)}onUnhandledNavigationMessage(){}onNavigationBegin(){}onPhaseBegin(){}onPhaseEnd(){}};let xt=St;xt.instance=new St;var di=Object.defineProperty,fi=Object.getOwnPropertyDescriptor,se=(i,t,e,s)=>{for(var n=s>1?void 0:s?fi(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&di(t,e,n),n};let ht=class extends S{constructor(){super(...arguments),this.mapNames=["de_dust2","de_nuke","de_vertigo","de_overpass","de_inferno","de_mirage","de_ancient"]}connectedCallback(){super.connectedCallback();const i=xt.instance.actualMapName$.getReader();T(i,t=>{this.actualMapName=t})}};se([_],ht.prototype,"actualMapName",2);ht=se([B({name:"app-nav",styles:F`
		ul {
			padding: 0;
			margin: 0;
			background: #000;
			height: 100vh;
			width: calc((100vw - 100vh) / 2);
		}

		li {
			list-style-type: none;
		}

		li > * {
			padding: 10px 20px;
			color: #fff;
			font-size: 1.5rem;
			display: block;
		}

		h1 {
			margin: 0;
		}

		a {
			text-decoration: none;
		}

		a:hover,
		a.activated {
			background: #212121;
		}

		.activated {
			font-weight: 700;
		}
	`,template:b`
		<ul>
			<li>
				<h1>CS:GO Helpers</h1>
			</li>

			${q(i=>i.mapNames,b`
					<li>
						<a
							href="/csgo-helpers/${i=>i}"
							class="${(i,t)=>t.parent.actualMapName===i?"activated":""}"
						>
							${i=>i}
						</a>
					</li>
				`)}
		</ul>
	`})],ht);function pi(i,t,e,s){var n=arguments.length,r=n<3?t:s===null?s=Object.getOwnPropertyDescriptor(t,e):s,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(i,t,e,s);else for(var a=i.length-1;a>=0;a--)(o=i[a])&&(r=(n<3?o(r):n>3?o(t,e,r):o(t,e))||r);return n>3&&r&&Object.defineProperty(t,e,r),r}function f(i,t,e,s){function n(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function a(h){try{u(s.next(h))}catch(c){o(c)}}function l(h){try{u(s.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):n(h.value).then(a,l)}u((s=s.apply(i,t||[])).next())})}class Q{constructor(t){this.path=t}}const dt=new Set,Rt=Object.freeze({register(i){dt.add(i)},unregister(i){dt.delete(i)}}),zt=/^([a-z][a-z0-9+\-.]*:)?\/\//i,A=Object.freeze({path:Object.freeze({get current(){return location.pathname+location.search},generateRoute(i,t,e={}){return f(this,void 0,void 0,function*(){let s="config"in i?i:j.find(i);for(;s!==null;){const n=yield s.config.generateRouteFromPath(t,e);if(n!==null)return n;s=s.parent}return null})},push(i,t=!0){if(i&&zt.test(i)){location.href=i;return}history.pushState({},document.title,i),t&&A.path.trigger(i)},replace(i,t=!0){if(i&&zt.test(i)){location.href=i;return}history.replaceState({},document.title,i),t&&A.path.trigger(i)},trigger(i){const t=new Q(i);for(const e of dt)e.enqueue(t)}}),name:Object.freeze({generateRoute(i,t,e={}){return f(this,void 0,void 0,function*(){let s="config"in i?i:j.find(i);for(;s!==null;){const n=yield s.config.generateRouteFromName(t,e);if(n!==null)return n;s=s.parent}return null})},push(i,t,e={},s=!0){return f(this,void 0,void 0,function*(){const n=yield A.name.generateRoute(i,t,e);n!==null&&A.path.push(n,s)})},replace(i,t,e={},s=!0){return f(this,void 0,void 0,function*(){const n=yield A.name.generateRoute(i,t,e);n!==null&&A.path.replace(n,s)})},trigger(i,t,e={}){return f(this,void 0,void 0,function*(){const s=yield A.name.generateRoute(i,t,e);s!==null&&A.path.trigger(s)})}})});class vi{constructor(){this.queue=[],this.promise=null,this.resolve=null}connect(){this.enqueue(new Q(A.path.current)),window.addEventListener("popstate",this),Rt.register(this)}disconnect(){this.queue=[],this.promise=null,this.resolve=null,window.removeEventListener("popstate",this),Rt.unregister(this)}receive(){return this.promise!==null?this.promise:(this.promise=new Promise(t=>this.resolve=t),Promise.resolve().then(()=>this.tryDequeue()),this.promise)}enqueue(t){this.queue.push(t),this.tryDequeue()}tryDequeue(){if(this.resolve===null||this.queue.length===0)return;const t=this.queue[this.queue.length-1],e=this.resolve;this.queue.length=0,this.promise=null,this.resolve=null,e(t)}handleEvent(t){this.enqueue(new Q(A.path.current))}}const ft=encodeURIComponent,It=i=>ft(i).replace("%24","$");function pt(i,t,e){let s=[];if(t==null)return s;if(Array.isArray(t))for(let n=0,r=t.length;n<r;n++)if(e)s.push(`${It(i)}=${ft(t[n])}`);else{const o=i+"["+(typeof t[n]=="object"&&t[n]!==null?n:"")+"]";s=s.concat(pt(o,t[n]))}else if(typeof t=="object"&&!e)for(const n in t)s=s.concat(pt(i+"["+n+"]",t[n]));else s.push(`${It(i)}=${ft(t)}`);return s}function gi(i,t){return Array.isArray(i)?(i.push(t),i):i!==void 0?[i,t]:t}function mi(i,t,e){let s=i;const n=t.length-1;for(let r=0;r<=n;r++){const o=t[r]===""?s.length:t[r];if(r<n){const a=!s[o]||typeof s[o]=="object"?s[o]:[s[o]];s=s[o]=a||(isNaN(t[r+1])?{}:[])}else s=s[o]=e}}const z=Object.freeze({get current(){return location.search},build(i,t){let e=[];const s=Object.keys(i||{}).sort();for(let n=0,r=s.length;n<r;n++){const o=s[n];e=e.concat(pt(o,i[o],t))}return e.length===0?"":e.join("&")},separate(i){const t=i.indexOf("?");let e="";return t!==-1&&(e=i.substr(t+1,i.length),i=i.substr(0,t)),{path:i,queryString:e}},parse(i){const t={};if(!i||typeof i!="string")return t;let e=i;e.charAt(0)==="?"&&(e=e.substr(1));const s=e.replace(/\+/g," ").split("&");for(let n=0;n<s.length;n++){const r=s[n].split("="),o=decodeURIComponent(r[0]);if(!o)continue;let a=o.split("]["),l=a.length-1;if(/\[/.test(a[0])&&/\]$/.test(a[l])?(a[l]=a[l].replace(/\]$/,""),a=a.shift().split("[").concat(a),l=a.length-1):l=0,r.length>=2){const u=r[1]?decodeURIComponent(r[1]):"";l?mi(t,a,u):t[o]=gi(t[o],u)}else t[o]=!0}return t}}),bi=i=>i;class ne{constructor(t,e,s){this.path=t,this.name=e,this.caseSensitive=s}}class re{constructor(t,e,s,n){this.route=t,this.paramNames=e,this.paramTypes=s,this.settings=n}get path(){return this.route.path}}class oe{constructor(t,e,s,n){this.endpoint=t,this.params=e,this.typedParams=s,this.queryParams=n,this.allParams=Object.assign(Object.assign({},e),n),this.allTypedParams=Object.assign(Object.assign({},s),n)}get settings(){return this.endpoint.settings}}class At{constructor(t,e,s,n){var r;this.chars=t,this.states=e,this.skippedStates=s,this.result=n,this.head=e[e.length-1],this.endpoint=(r=this.head)===null||r===void 0?void 0:r.endpoint}advance(t){const{chars:e,states:s,skippedStates:n,result:r}=this;let o=null,a=0;const l=s[s.length-1];function u(h,c){if(h.isMatch(t)&&(++a===1?o=h:r.add(new At(e.concat(t),s.concat(h),c===null?n:n.concat(c),r))),l.segment===null&&h.isOptional&&h.nextStates!==null){if(h.nextStates.length>1)throw new Error(`${h.nextStates.length} nextStates`);const d=h.nextStates[0];if(!d.isSeparator)throw new Error("Not a separator");if(d.nextStates!==null)for(const p of d.nextStates)u(p,h)}}if(l.isDynamic&&u(l,null),l.nextStates!==null)for(const h of l.nextStates)u(h,null);o!==null&&(s.push(this.head=o),e.push(t),o.endpoint!==null&&(this.endpoint=o.endpoint)),a===0&&r.remove(this)}finalize(){function t(e,s){const n=s.nextStates;if(n!==null){if(n.length===1&&n[0].segment===null)t(e,n[0]);else for(const r of n)if(r.isOptional&&r.endpoint!==null){if(e.push(r),r.nextStates!==null)for(const o of r.nextStates)t(e,o);break}}}t(this.skippedStates,this.head)}getParams(){const{states:t,chars:e,endpoint:s}=this,n={};for(const r of s.paramNames)n[r]=void 0;for(let r=0,o=t.length;r<o;++r){const a=t[r];if(a.isDynamic){const l=a.segment.name;n[l]===void 0?n[l]=e[r]:n[l]+=e[r]}}return n}compareTo(t){const e=this.states,s=t.states;for(let l=0,u=0,h=Math.max(e.length,s.length);l<h;++l){let c=e[l];if(c===void 0)return 1;let d=s[u];if(d===void 0)return-1;let p=c.segment,g=d.segment;if(p===null){if(g===null){++u;continue}if((c=e[++l])===void 0)return 1;p=c.segment}else if(g===null){if((d=s[++u])===void 0)return-1;g=d.segment}if(p.kind<g.kind)return 1;if(p.kind>g.kind)return-1;++u}const n=this.skippedStates,r=t.skippedStates,o=n.length,a=r.length;if(o<a)return 1;if(o>a)return-1;for(let l=0;l<o;++l){const u=n[l],h=r[l];if(u.length<h.length)return 1;if(u.length>h.length)return-1}return 0}}function yi(i){return i.head.endpoint!==null}function Ci(i,t){return i.compareTo(t)}class wi{constructor(t){this.candidates=[],this.candidates=[new At([""],[t],[],this)]}get isEmpty(){return this.candidates.length===0}getSolution(){const t=this.candidates.filter(yi);if(t.length===0)return null;for(const e of t)e.finalize();return t.sort(Ci),t[0]}add(t){this.candidates.push(t)}remove(t){this.candidates.splice(this.candidates.indexOf(t),1)}advance(t){const e=this.candidates.slice();for(const s of e)s.advance(t)}}class Si{constructor(){this.names=new Map,this.paths=new Map,this.rootState=new Bt(null,null,"")}add(t,e){if(t instanceof Array)for(const s of t)this.$add(s,e);else this.$add(t,e)}$add(t,e){const s=t.path,n=new ne(t.path,t.name||"",t.caseSensitive===!0),r=s===""?[""]:s.split("/").filter(xi),o=[],a=[];let l=this.rootState;const u=[];for(const c of r)switch(l=l.append(null,"/"),c.charAt(0)){case"{":{const d=c.slice(1,-1).split(":").map(O=>O.trim());d.length===2?a.push(d[1]):a.push("string");const p=d[0].endsWith("?"),g=p?d[0].slice(0,-1):d[0];o.push(g);const C=new Et(g,p);u.push(C),l=C.appendTo(l);break}case"*":{const d=c.slice(1);o.push(d),a.push("string");const p=new Bi(d);u.push(p),l=p.appendTo(l);break}default:{const d=new Ai(c,n.caseSensitive);u.push(d),l=d.appendTo(l);break}}const h=new re(n,o,a,e||null);l.setEndpoint(h),this.paths.set(s,u),t.name&&this.names.set(t.name,u)}recognize(t,e={}){return f(this,void 0,void 0,function*(){const s=z.separate(t),n=z.parse(s.queryString);t=decodeURI(s.path),t.startsWith("/")||(t=`/${t}`),t.length>1&&t.endsWith("/")&&(t=t.slice(0,-1));const r=new wi(this.rootState);for(let d=0,p=t.length;d<p;++d){const g=t.charAt(d);if(r.advance(g),r.isEmpty)return null}const o=r.getSolution();if(o===null)return null;const{endpoint:a}=o,l=a.paramNames,u=a.paramTypes,h=o.getParams(),c={};for(let d=0,p=l.length;d<p;++d){const g=l[d],C=e[u[d]]||bi,O=h[g],ye=yield C(O);c[g]=ye}return new oe(a,h,c,n)})}generateFromName(t,e){return this.generate(this.names.get(t),e)}generateFromPath(t,e){return this.generate(this.paths.get(t),e)}generate(t,e){if(!t)return null;const s=Object.assign({},e),n={};let r="";for(let a=0,l=t.length;a<l;a++){const u=t[a],h=u.generate(s,n);if(h==null){if(u instanceof Et&&!u.optional)throw new Error(`A value is required for route parameter '${u.name}'.`)}else r+="/",r+=h}r.charAt(0)!=="/"&&(r="/"+r);for(const a in n)delete s[a];const o=z.build(s);return r+=o?`?${o}`:"",r}}class Bt{constructor(t,e,s){switch(this.prevState=t,this.segment=e,this.value=s,this.nextStates=null,this.endpoint=null,e==null?void 0:e.kind){case 2:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=e.optional;break;case 1:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!0,this.isOptional=!1;break;case 3:this.length=t.length+1,this.isSeparator=!1,this.isDynamic=!1,this.isOptional=!1;break;case void 0:this.length=t===null?0:t.length,this.isSeparator=!0,this.isDynamic=!1,this.isOptional=!1;break}}append(t,e){let s,n=this.nextStates;return n===null?(s=void 0,n=this.nextStates=[]):t===null?s=n.find(r=>r.value===e):s=n.find(r=>{var o;return(o=r.segment)===null||o===void 0?void 0:o.equals(t)}),s===void 0&&n.push(s=new Bt(this,t,e)),s}setEndpoint(t){if(this.endpoint!==null)throw new Error(`Cannot add ambiguous route. The pattern '${t.route.path}' clashes with '${this.endpoint.route.path}'`);this.endpoint=t,this.isOptional&&(this.prevState.setEndpoint(t),this.prevState.isSeparator&&this.prevState.prevState!==null&&this.prevState.prevState.setEndpoint(t))}isMatch(t){const e=this.segment;switch(e==null?void 0:e.kind){case 2:return!this.value.includes(t);case 1:return!0;case 3:case void 0:return this.value.includes(t)}}}function xi(i){return i.length>0}class Ai{constructor(t,e){this.value=t,this.caseSensitive=e}get kind(){return 3}appendTo(t){const{value:e,value:{length:s}}=this;if(this.caseSensitive)for(let n=0;n<s;++n)t=t.append(this,e.charAt(n));else for(let n=0;n<s;++n){const r=e.charAt(n);t=t.append(this,r.toUpperCase()+r.toLowerCase())}return t}generate(){return this.value}equals(t){return t.kind===3&&t.caseSensitive===this.caseSensitive&&t.value===this.value}}class Et{constructor(t,e){this.name=t,this.optional=e}get kind(){return 2}appendTo(t){return t=t.append(this,"/"),t}generate(t,e){return e[this.name]=!0,t[this.name]}equals(t){return t.kind===2&&t.optional===this.optional&&t.name===this.name}}class Bi{constructor(t){this.name=t}get kind(){return 1}appendTo(t){return t=t.append(this,""),t}generate(t,e){return e[this.name]=!0,t[this.name]}equals(t){return t.kind===1&&t.name===this.name}}const ae="fast-child-route";function jt(i,t){return"command"in t?t.command:"redirect"in t?new he(t.redirect):tt.fromDefinition(i,t)}const Dt=i=>{if(i==null)return!1;switch(i.toLowerCase().trim()){case"true":case"yes":case"1":return!0;default:return!1}},$i={number:i=>i===void 0?NaN:parseFloat(i),float:i=>i===void 0?NaN:parseFloat(i),int:i=>i===void 0?NaN:parseInt(i),integer:i=>i===void 0?NaN:parseInt(i),Date:i=>i===void 0?new Date(Date.now()):new Date(i),boolean:Dt,bool:Dt};class Oi{constructor(t){this.owner=t,this._recognizer=null,this.pathToCommand=new Map,this.fallbackCommand=null,this.fallbackSettings=null,this.converters={}}get recognizer(){return this._recognizer===null&&(this._recognizer=this.owner.createRouteRecognizer()),this._recognizer}ignore(t){typeof t=="string"&&(t={path:t}),this.pathToCommand.set(t.path,new Ei),this.recognizer.add(t,t.settings)}map(...t){for(const e of t){if("children"in e){const n=this.owner.createTitleBuilder(),r=e.children.map(o=>{const a=Object.assign(Object.assign(Object.assign({},e),o),{path:`${e.path}/${o.path}`});if("title"in e||"title"in o){const l=e.title||"",u=o.title||"";a.title=n.joinTitles(l,u)}if("name"in o){const l=e.name?e.name+"/":"";a.name=l+o.name}return a.children===e.children&&delete a.children,a});this.map(...r);continue}let s;if("command"in e?s=e.command:"redirect"in e?s=new he(e.redirect):s=tt.fromDefinition(this.owner,e),this.pathToCommand.set(e.path,s),this.recognizer.add(e,e.settings),"childRouters"in e&&e.childRouters){const n=Object.assign(Object.assign({},e),{path:e.path+`/*${ae}`});this.pathToCommand.set(n.path,s),this.recognizer.add(n,n.settings)}}}fallback(t){const e=this.owner;typeof t=="function"?this.fallbackCommand={createContributor(s,n){return f(this,void 0,void 0,function*(){const r=yield t();return jt(e,r).createContributor(s,n)})}}:this.fallbackCommand=jt(e,t)}converter(t,e){let s;"convert"in e?s=e.convert.bind(e):e.prototype&&"convert"in e.prototype?s=n=>this.owner.construct(e).convert(n):s=e,this.converters[t]=s}recognize(t){return f(this,void 0,void 0,function*(){const e=yield this.recognizer.recognize(t,this.aggregateConverters());if(e!==null)return{route:e,command:this.pathToCommand.get(e.endpoint.path)};if(this.fallbackCommand!==null){const s=z.separate(t),n=z.parse(s.queryString);return{route:new oe(new re(new ne("*","",!1),[],[],this.fallbackSettings),{},{},n),command:this.fallbackCommand}}return null})}generateFromName(t,e){return this.recognizer.generateFromName(t,e)}generateFromPath(t,e){return this.recognizer.generateFromPath(t,e)}aggregateConverters(){return this.owner.parent===null?Object.assign(Object.assign({},$i),this.converters):Object.assign(Object.assign({},this.owner.parent.routes.aggregateConverters()),this.converters)}}const x="$router";function _i(i){const t=i.parentElement;if(t)return t;{const e=i.getRootNode();if(e.host instanceof HTMLElement)return e.host}return null}function le(i){let t=i;for(;t=_i(t);)if(x in t)return t[x];return null}const j=Object.freeze({getOrCreateFor(i){const t=i[x];return t!==void 0?t:i[x]=new Ti(i)},find(i){return i[x]||le(i)},from(i){class t extends i{constructor(){super(),j.getOrCreateFor(this)}get config(){return this[x].config}set config(n){this[x].config=n}}const e=t.prototype;if("connectedCallback"in e){const s=e.connectedCallback;e.connectedCallback=function(){s.call(this),this[x].connect()}}else e.connectedCallback=function(){this[x].connect()};if("disconnectedCallback"in e){const s=e.disconnectedCallback;e.disconnectedCallback=function(){s.call(this),this[x].disconnect()}}else e.disconnectedCallback=function(){this[x].disconnect()};return t}});function ki(i){return i instanceof S}class Ti{constructor(t){this.host=t,this.parentRouter=void 0,this.contributors=new Set,this.navigationQueue=null,this.linkHandler=null,this.newView=null,this.newRoute=null,this.childCommandContributor=null,this.childRoute=null,this.isConnected=!1,this.routerConfig=null,this.view=null,this.route=null,this.onNavigationMessage=e=>f(this,void 0,void 0,function*(){yield this.config.createNavigationProcess().run(this,e),this.navigationQueue.receive().then(this.onNavigationMessage)}),t[x]=this}get config(){return this.routerConfig}set config(t){this.routerConfig=t,this.tryConnect()}get parent(){if(this.parentRouter===void 0){if(!this.isConnected)return null;this.parentRouter=le(this.host)}return this.parentRouter||null}get level(){return this.parent===null?0:this.parent.level+1}shouldRender(t){var e;if(this.route&&this.route.endpoint.path===t.endpoint.path){const s=t==null?void 0:t.allParams,n=(e=this.route)===null||e===void 0?void 0:e.allParams;if(JSON.stringify(n)===JSON.stringify(s))return!1}return!0}beginRender(t,e){return f(this,void 0,void 0,function*(){return this.newRoute=t,this.newView=yield e.createView(),this.newView.bind(t.allTypedParams,Ni.create(this)),this.newView.appendTo(this.host),yield e.transition.begin(this.host,this.view,this.newView),{commit:this.renderOperationCommit.bind(this,e.layout,e.transition),rollback:this.renderOperationRollback.bind(this,e.transition)}})}connect(){this.isConnected=!0,this.tryConnect()}disconnect(){this.parent===null?(this.navigationQueue!==null&&(this.navigationQueue.disconnect(),this.navigationQueue=null),this.linkHandler!==null&&(this.linkHandler.disconnect(),this.linkHandler=null)):this.parent.removeContributor(this),this.isConnected=!1,this.parentRouter=void 0}addContributor(t){this.contributors.add(t)}removeContributor(t){this.contributors.delete(t)}tryConnect(){this.config===null||!this.isConnected||(this.parent===null?(this.navigationQueue!==null&&this.navigationQueue.disconnect(),this.navigationQueue=this.config.createNavigationQueue(),this.navigationQueue.connect(),this.navigationQueue.receive().then(this.onNavigationMessage),this.linkHandler!==null&&this.linkHandler.disconnect(),this.linkHandler=this.config.createLinkHandler(),this.linkHandler.connect()):(this.config.parent=this.parent.config,this.parent.addContributor(this)))}renderOperationCommit(t,e){return f(this,void 0,void 0,function*(){yield t.beforeCommit(this.host),yield e.commit(this.host,this.view,this.newView),yield t.afterCommit(this.host),this.view!==null&&this.view.dispose(),this.route=this.newRoute,this.view=this.newView,this.newRoute=null,this.newView=null})}renderOperationRollback(t){return f(this,void 0,void 0,function*(){this.newView!==null&&(yield t.rollback(this.host,this.view,this.newView),this.newView.dispose(),this.newRoute=null,this.newView=null)})}navigate(t){return f(this,void 0,void 0,function*(){yield this.tunnel(t)})}leave(t){return f(this,void 0,void 0,function*(){if(yield this.tunnel(t),!t.canceled){const e=this.contributors;this.contributors=new Set,t.onCancel(()=>this.contributors=e)}})}construct(t){return f(this,void 0,void 0,function*(){if(this.parent!==null){const e=t.route.allParams[ae]||"",s=yield this.config.recognizeRoute(e);if(s===null){this.config.createEventSink().onUnhandledNavigationMessage(this,new Q(e)),t.cancel();return}this.childRoute=s.route,this.childCommandContributor=yield s.command.createContributor(this,s.route)}yield this.tunnel(t)})}enter(t){return f(this,void 0,void 0,function*(){yield this.tunnel(t)})}commit(t){return f(this,void 0,void 0,function*(){yield this.tunnel(t)})}tunnel(t){return f(this,void 0,void 0,function*(){const e=this.childRoute,s=this.childCommandContributor;if(e&&s&&(yield t.evaluateContributor(s,e,this)),t.canceled)return;const n=[...this.config.findContributors(t.name),...Array.from(this.contributors)];for(const r of n)if(yield t.evaluateContributor(r,void 0,this),t.canceled)return})}}const Ni=Object.freeze({create(i){return Object.create(R,{router:{value:i}})}}),Pi=Object.freeze({default:Object.freeze({begin(i,t,e){return f(this,void 0,void 0,function*(){})},rollback(i,t,e){return f(this,void 0,void 0,function*(){})},commit(i,t,e){return f(this,void 0,void 0,function*(){})}})});class $t{constructor(t=null,e=null,s=!0){this.template=t,this.runBeforeCommit=s,this.styles=e==null?null:Array.isArray(e)?w.create(e):e instanceof w?e:w.create([e])}beforeCommit(t){return f(this,void 0,void 0,function*(){this.runBeforeCommit&&this.apply(t)})}afterCommit(t){return f(this,void 0,void 0,function*(){this.runBeforeCommit||this.apply(t)})}apply(t){ki(t)&&(t.$fastController.template!==this.template&&(t.$fastController.template=this.template),t.$fastController.styles!==this.styles&&(t.$fastController.styles=this.styles))}}const Li=Object.freeze({default:new $t(b`
            <slot></slot>
        `)});function ce(i,t){return t in i}const Ri={lifecycle:!0,parameters:!0};class zi extends D{constructor(t){super(),this.options=t}createPlaceholder(t){return m.createCustomAttributePlaceholder("fast-navigation-contributor",t)}createBehavior(t){return new Ii(t,this.options)}}class Ii{constructor(t,e){this.contributor=t,this.options=e,this.router=null}bind(t,e){if(this.options.lifecycle&&(this.router=e.router||j.find(this.contributor),this.router.addContributor(this.contributor)),this.options.parameters){const s=this.contributor,n=t;for(const r in n)s[r]=n[r]}}unbind(t){this.router!==null&&this.router.removeContributor(this.contributor)}}function ue(i){return new zi(Object.assign({},Ri,i))}class Ei{createContributor(){return f(this,void 0,void 0,function*(){return{navigate(t){return f(this,void 0,void 0,function*(){t.cancel()})}}})}}class he{constructor(t){this.redirect=t}createContributor(){return f(this,void 0,void 0,function*(){const t=this.redirect;return{navigate(e){return f(this,void 0,void 0,function*(){const s=e.router.config,n=(yield s.generateRouteFromName(t,e.route.allParams))||(yield s.generateRouteFromPath(t,e.route.allParams));if(n===null)throw new Error(`Invalid redirect. Name or path not found: ${t}`);e.cancel(()=>f(this,void 0,void 0,function*(){return A.path.replace(n)}))})}}})}}function M(i){return b`<${i} ${ue()}></${i}>`}function Ft(i){const t=document.createDocumentFragment();t.appendChild(i);const e=new bt(t,[ue().createBehavior(i)]);return{create(){return e}}}class ji{constructor(t,e,s){this.router=t,this.route=e,this.command=s}construct(t){return f(this,void 0,void 0,function*(){if(!this.router.shouldRender(this.route)){t.cancel();return}this.operation=yield this.router.beginRender(this.route,this.command),t.onCancel(()=>this.operation.rollback())})}commit(t){return f(this,void 0,void 0,function*(){yield this.operation.commit(),this.command.title&&t.setTitle(this.command.title)})}}class tt{constructor(t,e){this.owner=t,this.createView=e,this._layout=null,this._transition=null,this.title=""}get transition(){return this._transition||this.owner.defaultTransition}set transition(t){this._transition=t}get layout(){return this._layout||this.owner.defaultLayout}set layout(t){this._layout=t}createContributor(t,e){return f(this,void 0,void 0,function*(){return new ji(t,e,this)})}static fromDefinition(t,e){let s;"template"in e?s=()=>f(this,void 0,void 0,function*(){let r=e.template;return typeof r=="function"&&(r=yield r()),r.create()}):s=()=>f(this,void 0,void 0,function*(){let r=e.element,o=null;if(e.factory)o=e.factory;else if(typeof r=="function"){let a=N.forType(r);if(a)o=M(a.name);else if(r=yield r(),typeof r=="string")o=M(r);else if(r instanceof HTMLElement)o=Ft(r);else if(a=N.forType(r),a)o=M(a.name);else throw new Error("Invalid value for element in route config.")}else r instanceof HTMLElement?e.factory=o=Ft(r):e.factory=o=M(r);return o.create()});const n=new tt(t,s);return e.layout&&(e.layout instanceof at?n.layout=new $t(e.layout):n.layout=e.layout),e.transition&&(n.transition=e.transition),e.title&&(n.title=e.title),n}}class Di{constructor(){this.handler=t=>{const{shouldHandleEvent:e,href:s}=this.getEventInfo(t);e&&(t.preventDefault(),A.path.push(s))}}connect(){window.addEventListener("click",this.handler,!0)}disconnect(){window.removeEventListener("click",this.handler)}getEventInfo(t){const e={shouldHandleEvent:!1,href:null,anchor:null},s=this.findClosestAnchor(t);if(!s||!this.targetIsThisWindow(s)||s.hasAttribute("download")||s.hasAttribute("router-ignore")||s.hasAttribute("data-router-ignore")||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)return e;const n=s.getAttribute("href");e.anchor=s,e.href=n;const r=t.which===1,o=n&&!(n.charAt(0)==="#"||/^[a-z]+:/i.test(n));return e.shouldHandleEvent=r&&!!o,e}findClosestAnchor(t){const e=t.composedPath();for(let s=0,n=e.length;s<n;++s){const r=e[s];if(r.tagName==="A")return r}return t.target}targetIsThisWindow(t){const e=t.getAttribute("target");return!e||e===window.name||e==="_self"}}class Fi{constructor(t,e,s,n,r){this.name=t,this.commitActions=n,this.cancelActions=r,this.routes=[],this.routers=[],this.canceled=!1,this.titles=[],this.routes.push(e),this.routers.push(s)}get route(){return this.routes[this.routes.length-1]}get router(){return this.routers[this.routers.length-1]}cancel(t){this.canceled=!0,t&&this.cancelActions.push(t)}onCommit(t){this.commitActions.push(t)}onCancel(t){this.cancelActions.push(t)}setTitle(t){const e=this.router.level;for(;this.titles.length<e+1;)this.titles.push([]);this.titles[e].push(t)}evaluateContributor(t,e=this.route,s=this.router){return f(this,void 0,void 0,function*(){ce(t,this.name)&&(this.routes.push(e),this.routers.push(s),yield t[this.name](this),this.routes.pop(),this.routers.pop())})}}class Vi{constructor(){this.phases=["navigate","leave","construct","enter","commit"]}run(t,e){return f(this,void 0,void 0,function*(){const s=t.config.createEventSink(),n=yield t.config.recognizeRoute(e.path);if(n===null){s.onUnhandledNavigationMessage(t,e);return}const r=n.route,o=n.command;s.onNavigationBegin(t,r,o);const a=[],l=[];let u=a;const h=[yield o.createContributor(t,r),t,this];for(const c of this.phases){const d=new Fi(c,r,t,a,l);if(s.onPhaseBegin(d),d.canceled)u=l;else for(const p of h)if(yield d.evaluateContributor(p),d.canceled){u=l;break}if(s.onPhaseEnd(d),d.canceled)break}yield Promise.all(u.map(c=>c())).then(()=>s.onNavigationEnd(t,r,o))})}commit(t){const e=t.router.config.createTitleBuilder();document.title=e.buildTitle(t.router.config.title,t.titles)}}class Mi{constructor(t=" - ",e=":"){this.segmentSeparator=t,this.fragmentSeparator=e}joinTitles(t,e){return t===""?e:e===""?t:`${t}${this.segmentSeparator}${e}`}buildTitle(t,e){let s=t;for(const n of e){s&&(s=s+this.segmentSeparator);let r="";for(const o of n)r&&(r=r+this.fragmentSeparator),r=r+o;s=s+r}return s}}class Ui{onUnhandledNavigationMessage(t,e){}onNavigationBegin(t,e,s){}onPhaseBegin(t){}onPhaseEnd(t){}onNavigationEnd(t,e,s){}}class Hi{constructor(){this.isConfigured=!1,this.routes=new Oi(this),this.contributors=[],this.defaultLayout=Li.default,this.defaultTransition=Pi.default,this.title="",this.parent=null}createNavigationQueue(){return this.construct(vi)}createLinkHandler(){return this.construct(Di)}createNavigationProcess(){return new Vi}createEventSink(){return this.construct(Ui)}createTitleBuilder(){return this.construct(Mi)}createRouteRecognizer(){return this.construct(Si)}construct(t){return this.parent!==null?this.parent.construct(t):new t}recognizeRoute(t){return f(this,void 0,void 0,function*(){return yield this.ensureConfigured(),this.routes.recognize(t)})}generateRouteFromName(t,e){return f(this,void 0,void 0,function*(){return yield this.ensureConfigured(),this.routes.generateFromName(t,e)})}generateRouteFromPath(t,e){return f(this,void 0,void 0,function*(){return yield this.ensureConfigured(),this.routes.generateFromPath(t,e)})}findContributors(t){return this.contributors.filter(e=>ce(e,t))}cached(t){let e=null;return()=>f(this,void 0,void 0,function*(){return e===null&&(e=new t),e})}ensureConfigured(){return f(this,void 0,void 0,function*(){this.isConfigured||(yield this.configure(),this.isConfigured=!0)})}}let Vt=class extends j.from(S){};Vt=pi([B("fast-router")],Vt);const qi=new $t(b`
		<nav>
			<app-nav></app-nav>
		</nav>

		<main>
			<slot></slot>

			<app-stuff-selector></app-stuff-selector>
		</main>
	`,F`
		* {
			font-family: sans-serif;
		}

		:host {
			display: flex;
			width: 100%;
			height: 100%;
		}

		main {
			display: flex;
		}
	`);var Qi=Object.defineProperty,Wi=Object.getOwnPropertyDescriptor,V=(i,t,e,s)=>{for(var n=s>1?void 0:s?Wi(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&Qi(t,e,n),n};let P=class extends S{constructor(){super(...arguments),this.arrivalIdSelected=null,this.videoUrl=null,this.closeVideoWhenClickedOutside=i=>{i.path[0]!==this.videoElement&&(this.videoUrl=null,document.removeEventListener("click",this.closeVideoWhenClickedOutside))}}select(i){if(i===this.arrivalIdSelected){this.arrivalIdSelected=null;return}this.arrivalIdSelected=i}showStuff(i,t){t.stopPropagation(),this.videoUrl=i,document.addEventListener("click",this.closeVideoWhenClickedOutside)}};V([Ct()],P.prototype,"mapUrl",2);V([Ct()],P.prototype,"stuffLocalizations",2);V([_],P.prototype,"arrivalIdSelected",2);V([_],P.prototype,"videoUrl",2);P=V([B({name:"app-map",styles:F`
		:host {
			display: flex;
		}

		*:focus {
			outline: none;
		}

		.map {
			width: 100vh;
			height: 100vh;
			position: relative;
			z-index: 0;
			background: 0 0% / contain no-repeat;
			margin: auto;
		}

		.arrival {
			position: absolute;
			border-radius: 50%;
			background: yellow;
			width: calc(20 / 1024 * 100%);
			height: calc(20 / 1024 * 100%);
			opacity: 0.75;
			cursor: pointer;
			border: none;
			padding: 0;
		}

		.arrival:hover,
		.arrival[aria-selected] {
			opacity: 1;
		}

		.departure {
			display: none;
			position: absolute;
			border-radius: 50%;
			background: red;
			width: calc(20 / 1024 * 100%);
			height: calc(20 / 1024 * 100%);
			cursor: pointer;
			border: none;
			padding: 0;
		}

		.arrival:hover + .departures-container .departure,
		.arrival:hover + .departures-container svg,
		.arrival[aria-selected] + .departures-container .departure,
		.arrival[aria-selected] + .departures-container svg {
			display: block;
		}

		svg {
			pointer-events: none;
			display: none;
			position: absolute;
			z-index: -1;
			width: auto;
			max-height: 100vh;
			max-width: 100vw;
			aspect-ratio: 1;
		}

		svg line {
			stroke: green;
			stroke-width: calc(2 / 1024 * 100%);
		}

		.video-container {
			position: absolute;
			top: calc(112 / 1024 * 100%);
			height: calc(800 / 1024 * 100%);
			width: 100vh;
			justify-content: center;
		}

		video {
			height: 100%;
			width: auto;
		}
	`,template:b`
		<div class="map" style="background-image: url(${i=>i.mapUrl})">
			${q(i=>i.stuffLocalizations.arrivals,b`
					<button
						@click="${(i,t)=>t.parent.select(i.id)}"
						aria-selected="${(i,t)=>t.parent.arrivalIdSelected===i.id?"true":null}"
						class="arrival"
						style="
							left: ${i=>`calc(${i.x} / 1024 * 100%)`};
							top: ${i=>`calc(${i.y} / 1024 * 100%)`};
						"
					></button>

					<div class="departures-container">
						${q((i,t)=>t.parent.stuffLocalizations.departuresByArrivalId[i.id],b`
								<button
									class="departure"
									@click="${(i,t)=>t.parentContext.parent.showStuff(i.videoUrl,t.event)}"
									style="
											left: ${i=>`calc(${i.x} / 1024 * 100%)`};
											top: ${i=>`calc(${i.y} / 1024 * 100%)`};
										"
								></button>

								<svg viewBox="0 0 1024 1024">
									<line
										x1="${(i,t)=>t.parent.x+10}"
										y1="${(i,t)=>t.parent.y+10}"
										x2="${i=>i.x+10}"
										y2="${i=>i.y+10}"
									/>
								</svg>
							`)}
					</div>
				`)}
		</div>

		<div
			class="video-container"
			style="display: ${i=>i.videoUrl?"flex":"none"}"
		>
			<video
				${si("videoElement")}
				src="${i=>i.videoUrl}"
				autoplay
				loop
				muted
				controls
			></video>
		</div>
	`})],P);var Ki="/csgo-helpers/assets/de_ancient.ea51c0de.png",Gi=Object.defineProperty,Ji=Object.getOwnPropertyDescriptor,de=(i,t,e,s)=>{for(var n=s>1?void 0:s?Ji(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&Gi(t,e,n),n};let W=class extends S{constructor(){super(...arguments),this.stuffLocalizationsByStuff={smoke:{arrivals:[],departuresByArrivalId:{}},flash:{arrivals:[],departuresByArrivalId:{}},molotov:{arrivals:[],departuresByArrivalId:{}},grenade:{arrivals:[],departuresByArrivalId:{}}}}connectedCallback(){this.stuffLocalizations=this.stuffLocalizationsByStuff[v.stuffActivated],super.connectedCallback(),setTimeout(()=>{T(v.stuffActivatedReader,i=>{this.stuffLocalizations=this.stuffLocalizationsByStuff[i]})})}disconnectedCallback(){v.setupNewStream(),super.disconnectedCallback()}};de([_],W.prototype,"stuffLocalizations",2);W=de([B({name:"app-de-ancient-page",template:b`
		<app-map
			:mapUrl="${()=>Ki}"
			:stuffLocalizations="${i=>i.stuffLocalizations}"
		></app-map>
	`})],W);var Xi="/csgo-helpers/assets/de_dust2.574d35c0.png",Yi=Object.defineProperty,Zi=Object.getOwnPropertyDescriptor,fe=(i,t,e,s)=>{for(var n=s>1?void 0:s?Zi(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&Yi(t,e,n),n};let K=class extends S{constructor(){super(...arguments),this.stuffLocalizationsByStuff={smoke:{arrivals:[{id:1,x:483,y:402},{id:2,x:250,y:227}],departuresByArrivalId:{1:[{id:1,endId:1,x:447,y:885,videoUrl:"https://giant.gfycat.com/CapitalClearAlligator.mp4"},{id:2,endId:1,x:544,y:648,videoUrl:"https://giant.gfycat.com/WellwornKindIaerismetalmark.mp4"},{id:3,endId:1,x:285,y:405,videoUrl:"https://giant.gfycat.com/IdioticAdventurousArabianoryx.mp4"}],2:[{id:4,endId:2,x:133,y:454,videoUrl:"https://giant.gfycat.com/RashDizzyHarborporpoise.mp4"}]}},flash:{arrivals:[],departuresByArrivalId:{}},molotov:{arrivals:[],departuresByArrivalId:{}},grenade:{arrivals:[],departuresByArrivalId:{}}}}connectedCallback(){this.stuffLocalizations=this.stuffLocalizationsByStuff[v.stuffActivated],super.connectedCallback(),setTimeout(()=>{T(v.stuffActivatedReader,i=>{this.stuffLocalizations=this.stuffLocalizationsByStuff[i]})})}disconnectedCallback(){v.setupNewStream(),super.disconnectedCallback()}};fe([_],K.prototype,"stuffLocalizations",2);K=fe([B({name:"app-de-dust2-page",template:b`
		<app-map
			:mapUrl="${()=>Xi}"
			:stuffLocalizations="${i=>i.stuffLocalizations}"
		></app-map>
	`})],K);var ts="/csgo-helpers/assets/de_inferno.3dc810f8.png",es=Object.defineProperty,is=Object.getOwnPropertyDescriptor,pe=(i,t,e,s)=>{for(var n=s>1?void 0:s?is(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&es(t,e,n),n};let G=class extends S{constructor(){super(...arguments),this.stuffLocalizationsByStuff={smoke:{arrivals:[{id:1,x:887,y:613}],departuresByArrivalId:{1:[{id:1,endId:1,x:609,y:683,videoUrl:"https://giant.gfycat.com/GraciousDecentAnhinga.mp4"}]}},flash:{arrivals:[],departuresByArrivalId:{}},molotov:{arrivals:[],departuresByArrivalId:{}},grenade:{arrivals:[],departuresByArrivalId:{}}}}connectedCallback(){this.stuffLocalizations=this.stuffLocalizationsByStuff[v.stuffActivated],super.connectedCallback(),setTimeout(()=>{T(v.stuffActivatedReader,i=>{this.stuffLocalizations=this.stuffLocalizationsByStuff[i]})})}disconnectedCallback(){v.setupNewStream(),super.disconnectedCallback()}};pe([_],G.prototype,"stuffLocalizations",2);G=pe([B({name:"app-de-inferno-page",template:b`
		<app-map
			:mapUrl="${()=>ts}"
			:stuffLocalizations="${i=>i.stuffLocalizations}"
		></app-map>
	`})],G);var ss="/csgo-helpers/assets/de_mirage.996a7088.png",ns=Object.defineProperty,rs=Object.getOwnPropertyDescriptor,ve=(i,t,e,s)=>{for(var n=s>1?void 0:s?rs(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&ns(t,e,n),n};let J=class extends S{constructor(){super(...arguments),this.stuffLocalizationsByStuff={smoke:{arrivals:[],departuresByArrivalId:{}},flash:{arrivals:[],departuresByArrivalId:{}},molotov:{arrivals:[],departuresByArrivalId:{}},grenade:{arrivals:[],departuresByArrivalId:{}}}}connectedCallback(){this.stuffLocalizations=this.stuffLocalizationsByStuff[v.stuffActivated],super.connectedCallback(),setTimeout(()=>{T(v.stuffActivatedReader,i=>{this.stuffLocalizations=this.stuffLocalizationsByStuff[i]})})}disconnectedCallback(){v.setupNewStream(),super.disconnectedCallback()}};ve([_],J.prototype,"stuffLocalizations",2);J=ve([B({name:"app-de-mirage-page",template:b`
		<app-map
			<app-map
			:mapUrl="${()=>ss}"
			:stuffLocalizations="${i=>i.stuffLocalizations}"
		></app-map>
	`})],J);var os="/csgo-helpers/assets/de_nuke.2327b3c2.png",as=Object.defineProperty,ls=Object.getOwnPropertyDescriptor,ge=(i,t,e,s)=>{for(var n=s>1?void 0:s?ls(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&as(t,e,n),n};let X=class extends S{constructor(){super(...arguments),this.stuffLocalizationsByStuff={smoke:{arrivals:[],departuresByArrivalId:{}},flash:{arrivals:[],departuresByArrivalId:{}},molotov:{arrivals:[],departuresByArrivalId:{}},grenade:{arrivals:[],departuresByArrivalId:{}}}}connectedCallback(){this.stuffLocalizations=this.stuffLocalizationsByStuff[v.stuffActivated],super.connectedCallback(),setTimeout(()=>{T(v.stuffActivatedReader,i=>{this.stuffLocalizations=this.stuffLocalizationsByStuff[i]})})}disconnectedCallback(){v.setupNewStream(),super.disconnectedCallback()}};ge([_],X.prototype,"stuffLocalizations",2);X=ge([B({name:"app-de-nuke-page",template:b`
		<app-map
			:mapUrl="${()=>os}"
			:stuffLocalizations="${i=>i.stuffLocalizations}"
		></app-map>
	`})],X);var cs="/csgo-helpers/assets/de_overpass.c722b426.png",us=Object.defineProperty,hs=Object.getOwnPropertyDescriptor,me=(i,t,e,s)=>{for(var n=s>1?void 0:s?hs(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&us(t,e,n),n};let Y=class extends S{constructor(){super(...arguments),this.stuffLocalizationsByStuff={smoke:{arrivals:[],departuresByArrivalId:{}},flash:{arrivals:[],departuresByArrivalId:{}},molotov:{arrivals:[],departuresByArrivalId:{}},grenade:{arrivals:[],departuresByArrivalId:{}}}}connectedCallback(){this.stuffLocalizations=this.stuffLocalizationsByStuff[v.stuffActivated],super.connectedCallback(),setTimeout(()=>{T(v.stuffActivatedReader,i=>{this.stuffLocalizations=this.stuffLocalizationsByStuff[i]})})}disconnectedCallback(){v.setupNewStream(),super.disconnectedCallback()}};me([_],Y.prototype,"stuffLocalizations",2);Y=me([B({name:"app-de-overpass-page",template:b`
		<app-map
			:mapUrl="${()=>cs}"
			:stuffLocalizations="${i=>i.stuffLocalizations}"
		></app-map>
	`})],Y);var ds="/csgo-helpers/assets/de_vertigo.33bde87a.png",fs=Object.defineProperty,ps=Object.getOwnPropertyDescriptor,be=(i,t,e,s)=>{for(var n=s>1?void 0:s?ps(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&fs(t,e,n),n};let Z=class extends S{constructor(){super(...arguments),this.stuffLocalizationsByStuff={smoke:{arrivals:[],departuresByArrivalId:{}},flash:{arrivals:[],departuresByArrivalId:{}},molotov:{arrivals:[],departuresByArrivalId:{}},grenade:{arrivals:[],departuresByArrivalId:{}}}}connectedCallback(){this.stuffLocalizations=this.stuffLocalizationsByStuff[v.stuffActivated],super.connectedCallback(),setTimeout(()=>{T(v.stuffActivatedReader,i=>{this.stuffLocalizations=this.stuffLocalizationsByStuff[i]})})}disconnectedCallback(){v.setupNewStream(),super.disconnectedCallback()}};be([_],Z.prototype,"stuffLocalizations",2);Z=be([B({name:"app-de-vertigo-page",template:b`
		<app-map
			:mapUrl="${()=>ds}"
			:stuffLocalizations="${i=>i.stuffLocalizations}"
		></app-map>
	`})],Z);class vs extends Hi{configure(){this.title="CS:GO Helpers",this.defaultLayout=qi,this.routes.map({path:"csgo-helpers",children:[{path:"de_dust2",title:"de_dust2",element:K},{path:"de_nuke",title:"de_nuke",element:X},{path:"de_vertigo",title:"de_vertigo",element:Z},{path:"de_overpass",title:"de_overpass",element:Y},{path:"de_inferno",title:"de_inferno",element:G},{path:"de_mirage",title:"de_mirage",element:J},{path:"de_ancient",title:"de_ancient",element:W}]}),this.routes.fallback({redirect:"csgo-helpers/de_dust2"})}createEventSink(){return this.construct(xt)}}var gs=Object.defineProperty,ms=Object.getOwnPropertyDescriptor,bs=(i,t,e,s)=>{for(var n=s>1?void 0:s?ms(t,e):t,r=i.length-1,o;r>=0;r--)(o=i[r])&&(n=(s?o(t,e,n):o(n))||n);return s&&n&&gs(t,e,n),n};let Mt=class extends S{constructor(){super(...arguments),this.routerConfiguration=new vs}};Mt=bs([B({name:"app-root",styles:F`
		:host {
			contain: content;
		}
	`,template:b`
		<fast-router :config=${i=>i.routerConfiguration}></fast-router>
	`})],Mt);
